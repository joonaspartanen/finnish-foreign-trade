(this.webpackJsonpfft_frontend=this.webpackJsonpfft_frontend||[]).push([[0],{299:function(e,t,a){e.exports=a(461)},304:function(e,t,a){},461:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),o=a(109),l=a.n(o),i=a(77),c=(a(304),a(35)),s=a(150),u=a(286),d=a(269),m=function(e){var t=e.imports,a=e.exports,o=e.flow,l=(e.year,null),i="#5E5B78",m="#4B0000";return"exports"===o?(l=a,i="#5E5B78",m="#4B0000"):(l=t,i="#C17D80",m="#161331"),Object(n.useEffect)((function(){c.d(u.a);var e=c.b("mapdiv",s.a);e.geodata=d.a,e.projection=new s.d.Mercator,e.zoomControl=new s.c,e.backgroundSeries.mapPolygons.template.polygon.fill=c.a("#EEE"),e.backgroundSeries.mapPolygons.template.polygon.fillOpacity=1,e.chartContainer.wheelable=!1,window.innerHeight>window.innerWidth?(e.homeZoomLevel=5,e.minZoomLevel=5):(e.homeZoomLevel=2,e.minZoomLevel=2),e.homeGeoPoint={latitude:50,longitude:11},e.maxPanOut=0;var t=e.series.push(new s.b);t.heatRules.push({property:"fill",target:t.mapPolygons.template,min:c.a(i).brighten(1.4),max:c.a(i).brighten(-.6)}),t.useGeodata=!0,t.exclude=["AQ","SJ"],t.data=l;var a=t.mapPolygons.template;return a.tooltipText="{name}: {euros} \u20ac",a.nonScalingStroke=!0,a.strokeWidth=.5,e.events.on("ready",(function(){var e=t.getPolygonById("FI");e.fill=c.a("#FFF"),e.tooltipText=""})),a.states.create("hover").properties.fill=c.a(m),function(){e&&e.dispose()}}),[l,i,m]),r.a.createElement("div",{id:"mapdiv",style:{width:"100%",height:"100%",overflow:"hidden"}})},p=a(190),h=a.n(p),f=a(270),g=a.n(f),v=function(e){var t=e.setFlow;return r.a.createElement("div",{style:{position:"absolute",bottom:"2em",left:"2em"}},r.a.createElement(g.a,{toggle:"true",name:"change-flow"},r.a.createElement(h.a,{variant:"primary",onClick:function(e){return t("exports")}},"Exports 2018"),r.a.createElement(h.a,{variant:"secondary",onClick:function(e){return t("imports")}},"Imports 2018")))},b=a(67),E=a(192),y=a(193),w=function(e){var t=e.tradeBalance;return Object(n.useEffect)((function(){c.d(E.a),c.d(y.a);var e=c.b("chartdiv",b.f);if(e.data=t,e.marginRight="100",window.innerHeight>window.innerWidth){var a=e.yAxes.push(new b.a);a.dataFields.category="year",a.numberFormatter.numberFormat="#",a.renderer.inversed=!0,a.renderer.grid.template.location=0,a.renderer.cellStartLocation=.1,a.renderer.cellEndLocation=.9;var n=e.xAxes.push(new b.e);n.min=-1e9,n.strictMinMax=!0,n.numberFormatter.numberFormat="##.##a",n.numberFormatter.bigNumberPrefixes=[{number:1e9,suffix:"B"}],n.renderer.opposite=!0;var r=e.series.push(new b.b);r.name="Trade Balance",r.fill=c.a("#2E8B57"),r.strokeWidth=0,r.dataFields.valueX="tradeBalance",r.dataFields.categoryY="year",r.columns.template.height=c.c(100),r.sequencedInterpolation=!0,r.columns.template.tooltipText="{name}:\n\u20ac{valueX}",r.columns.template.adapter.add("fill",(function(e,t){return t.dataItem&&t.dataItem.valueX<0?c.a("#800000"):e}));var o=e.series.push(new b.b);o.name="Imports to Finland (2018)",o.fill=c.a("#63718B"),o.strokeWidth=0,o.dataFields.valueX="imports",o.dataFields.categoryY="year",o.columns.template.height=c.c(100),o.sequencedInterpolation=!0,o.columns.template.tooltipText="{name}:\n\u20ac{valueX}";var l=e.series.push(new b.b);l.name="Exports from Finland (2018)",l.fill=c.a("#EBA05C"),l.strokeWidth=0,l.dataFields.valueX="exports",l.dataFields.categoryY="year",l.columns.template.height=c.c(100),l.sequencedInterpolation=!0,l.columns.template.tooltipText="{name}:\n\u20ac{valueX}"}else{var i=e.xAxes.push(new b.a);i.dataFields.category="year",i.numberFormatter.numberFormat="#",i.renderer.inversed=!0,i.renderer.grid.template.location=0,i.renderer.cellStartLocation=.1,i.renderer.cellEndLocation=.9;var s=e.yAxes.push(new b.e);s.numberFormatter.numberFormat="##.##a",s.numberFormatter.bigNumberPrefixes=[{number:1e9,suffix:"B"}];var u=e.series.push(new b.b);u.name="Trade Balance",u.fill=c.a("#2E8B57"),u.strokeWidth=0,u.dataFields.valueY="tradeBalance",u.dataFields.categoryX="year",u.columns.template.height=c.c(100),u.sequencedInterpolation=!0,u.columns.template.tooltipText="{name}:\n\u20ac{valueY}",u.columns.template.adapter.add("fill",(function(e,t){return t.dataItem&&t.dataItem.valueY<0?c.a("#800000"):e}));var d=e.series.push(new b.b);d.name="Imports to Finland (2018)",d.fill=c.a("#63718B"),d.strokeWidth=0,d.dataFields.valueY="imports",d.dataFields.categoryX="year",d.columns.template.height=c.c(100),d.sequencedInterpolation=!0,d.columns.template.tooltipText="{name}:\n\u20ac{valueY}";var m=e.series.push(new b.b);m.name="Exports from Finland (2018)",m.fill=c.a("#EBA05C"),m.strokeWidth=0,m.dataFields.valueY="exports",m.dataFields.categoryX="year",m.columns.template.height=c.c(100),m.sequencedInterpolation=!0,m.columns.template.tooltipText="{name}:\n\u20ac{valueY}"}return function(){e&&e.dispose()}}),[t]),r.a.createElement("div",{id:"chartdiv",style:{width:"100%",height:"100%",overflow:"hidden",paddingTop:"3em"}})},x=a(475),F=function(e){var t=e.SITC2Data,a=e.flow,o={id:"products-treemap-div-".concat(a)};return Object(n.useEffect)((function(){c.d(E.a),c.d(y.a);var e=c.b("products-treemap-div-".concat(a),b.d);return e.data=t,e.dataFields.value="value",e.dataFields.name="group",e.dataFields.children="children",e.seriesTemplates.create("1").columns.template.tooltipText="{group}: {value} \u20ac",window.innerHeight<window.innerWidth&&(e.legend=new b.c,e.legend.position="bottom",e.legend.paddingTop=20),function(){e&&e.dispose()}}),[t,a]),r.a.createElement("div",{style:{width:"100%",height:"100vh",paddingTop:"3em",paddingRight:"2em",paddingLeft:"2em",textAlign:"center"}},r.a.createElement(x.a,{inverted:!0,as:"h3"},"Finnish ",a," by product category (2018)"),r.a.createElement("div",Object.assign({},o,{style:{width:"100%",height:"95%"}})))},j=a(76),O=a.n(j),k=a(118),I=a.n(k),C=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(I.a.get("/imports"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},S=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(I.a.get("/exports"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},T=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(I.a.get("/tradebalance"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},B=function(e){var t;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(I.a.get("/SITC2/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},N=function(e,t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.a.awrap(I.a.get("/SITC2/".concat(e,"/").concat(t[0].code)));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}))},A=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(I.a.get("/countries"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},L=a(472),P=a(473),W=a(281),X=function(e){var t=e.country,a=Object(n.useState)([]),o=Object(i.a)(a,2),l=o[0],c=o[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),d=u[0],m=u[1];return Object(n.useEffect)((function(){N("imports",t).then((function(e){c(e.data)})),N("exports",t).then((function(e){m(e.data)}))}),[t]),0===t.length?null:0===l.length||0===d.length?null:(console.log(t[0]),r.a.createElement(L.a,null,r.a.createElement(P.a,null,r.a.createElement(W.a,{md:!0},r.a.createElement("h2",null,"Finland imported from ",t[0].name," "),r.a.createElement("table",null,r.a.createElement("tbody",null,l.slice(0,10).map((function(e){return r.a.createElement("tr",{key:e.group},r.a.createElement("td",{style:{color:"#fff"}},e.group,": ",e.value))}))))),r.a.createElement(W.a,{md:!0},r.a.createElement("h2",null,"Finland exported to ",t[0].name," "),r.a.createElement("table",null,r.a.createElement("tbody",null,d.slice(0,10).map((function(e){return r.a.createElement("tr",{key:e.group},r.a.createElement("td",{style:{color:"#fff"}},e.group,": ",e.value))}))))))))},Y=a(476),q=function(e){var t=e.countryFilter,a=e.handleCountryFilterChange;return r.a.createElement(Y.a,null,r.a.createElement(Y.a.Group,{controlId:"countryName"},r.a.createElement("h2",{style:{textAlign:"center"}},"Search country"),r.a.createElement(Y.a.Control,{type:"text",value:t,onChange:function(e){console.log(e.target.value),a(e.target.value)}})))},z=a(477),D=a(474),R=a(220),Z=function(){return r.a.createElement(z.a,{inverted:!0,size:"massive",style:{backgroundColor:"#333",marginBottom:"0px"}},r.a.createElement(D.a,{fluid:!0},r.a.createElement(z.a.Item,{header:!0},r.a.createElement(R.a,{name:"euro sign",size:"large"}),"Finnish Foreign Trade Visualized"),r.a.createElement(z.a.Item,{link:!0,as:"a",href:"#trade-partners"},"Trade Partners"),r.a.createElement(z.a.Item,{link:!0,as:"a",href:"#trade-balance"},"Trade Balance"),r.a.createElement(z.a.Item,{link:!0,as:"a",href:"#imports-by-product"},"By product group")))},G=function(){return r.a.createElement(z.a,{inverted:!0,secondary:!0,style:{backgroundColor:"#333",marginTop:"0px"}},r.a.createElement(D.a,{fluid:!0},r.a.createElement(z.a.Item,{link:!0,as:"a",href:"https://github.com/joonaspartanen/finnish-foreign-trade"},"About")))},H=a(285),J=a.n(H),M=a(139),_=a.n(M),Q=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(i.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),h=p[0],f=p[1],g=Object(n.useState)([]),b=Object(i.a)(g,2),E=b[0],y=b[1],x=Object(n.useState)([]),j=Object(i.a)(x,2),O=j[0],k=j[1],I=Object(n.useState)("exports"),N=Object(i.a)(I,2),L=N[0],P=N[1],W=Object(n.useState)([]),Y=Object(i.a)(W,2),z=Y[0],R=Y[1],H=Object(n.useState)(""),M=Object(i.a)(H,2),Q=M[0],V=M[1],K=Object(n.useState)([]),U=Object(i.a)(K,2),$=U[0],ee=U[1];return Object(n.useEffect)((function(){C().then((function(e){o(e.data)})),S().then((function(e){u(e.data)})),T().then((function(e){f(e.data)})),B("imports").then((function(e){y(e.data)})),B("exports").then((function(e){k(e.data)})),A().then((function(e){ee(e.data)}))}),[]),console.log("Flow: ",L),r.a.createElement("div",{style:{backgroundColor:"#343A40"}},r.a.createElement(D.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},r.a.createElement(Z,null),(0===a.length||0===s.length)&&r.a.createElement("div",{className:"section",style:{height:"100vh"}},r.a.createElement(J.a,{animation:"border",variant:"light"})),a.length>0&&s.length>0&&r.a.createElement("div",null,r.a.createElement(_.a,{id:"trade-partners"},r.a.createElement("div",{className:"section",style:{position:"relative",height:"calc(100vh - 60px)"}},r.a.createElement(m,{imports:a,exports:s,flow:L}),r.a.createElement(v,{setFlow:P}),r.a.createElement("a",{href:"#trade-balance",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(_.a,{id:"trade-balance"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#333",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(w,{tradeBalance:h}),r.a.createElement("a",{href:"#imports-by-product",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(_.a,{id:"imports-by-product"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#222",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(F,{SITC2Data:E,flow:"imports"}),r.a.createElement("a",{href:"#exports-by-product",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(_.a,{id:"exports-by-product"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#333",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(F,{SITC2Data:O,flow:"exports"}),r.a.createElement("a",{href:"#country-data",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(_.a,{id:"country-data"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#222",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(q,{countryFilter:Q,handleCountryFilterChange:function(e){V(e);var t=$.filter((function(t){return t.name===e}));R(t)}}),0!==z.length&&r.a.createElement(X,{country:z})))),r.a.createElement(G,null)))};l.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[299,1,3]]]);
//# sourceMappingURL=main.b656e22c.chunk.js.map