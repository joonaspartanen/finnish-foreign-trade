(this.webpackJsonpfft_frontend=this.webpackJsonpfft_frontend||[]).push([[0],{299:function(e,t,a){e.exports=a(464)},304:function(e,t,a){},464:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),o=a(108),l=a.n(o),i=a(76),c=(a(304),a(35)),s=a(157),u=a(288),d=a(275),m=function(e){var t=e.imports,a=e.exports,o=e.flow,l=(e.year,null),i="#5E5B78",m="#4B0000";return"exports"===o?(l=a,i="#5E5B78",m="#4B0000"):(l=t,i="#C17D80",m="#161331"),Object(n.useEffect)((function(){c.d(u.a);var e=c.b("mapdiv",s.a);e.geodata=d.a,e.projection=new s.d.Mercator,e.zoomControl=new s.c,e.backgroundSeries.mapPolygons.template.polygon.fill=c.a("#EEE"),e.backgroundSeries.mapPolygons.template.polygon.fillOpacity=1,e.chartContainer.wheelable=!1,window.innerHeight>window.innerWidth?(e.homeZoomLevel=5,e.minZoomLevel=5):(e.homeZoomLevel=2,e.minZoomLevel=2),e.homeGeoPoint={latitude:50,longitude:11},e.maxPanOut=0;var t=e.series.push(new s.b);t.heatRules.push({property:"fill",target:t.mapPolygons.template,min:c.a(i).brighten(1.4),max:c.a(i).brighten(-.6)}),t.useGeodata=!0,t.exclude=["AQ","SJ"],t.data=l;var a=t.mapPolygons.template;return a.tooltipText="{name}: {euros} \u20ac",a.nonScalingStroke=!0,a.strokeWidth=.5,e.events.on("ready",(function(){var e=t.getPolygonById("FI");e.fill=c.a("#FFF"),e.tooltipText=""})),a.states.create("hover").properties.fill=c.a(m),function(){e&&e.dispose()}}),[l,i,m]),r.a.createElement("div",{id:"mapdiv",style:{width:"100%",height:"100%",overflow:"hidden"}})},p=a(198),h=a.n(p),f=a(276),g=a.n(f),v=function(e){var t=e.setFlow;return r.a.createElement("div",{style:{position:"absolute",bottom:"2em",left:"2em"}},r.a.createElement(g.a,{toggle:"true",name:"change-flow"},r.a.createElement(h.a,{variant:"primary",onClick:function(e){return t("exports")}},"Exports 2018"),r.a.createElement(h.a,{variant:"secondary",onClick:function(e){return t("imports")}},"Imports 2018")))},b=a(65),E=a(203),y=a(204),w=function(e){var t=e.tradeBalance;return Object(n.useEffect)((function(){c.d(E.a),c.d(y.a);var e=c.b("chartdiv",b.f);if(e.data=t,e.marginRight="100",window.innerHeight>window.innerWidth){var a=e.yAxes.push(new b.a);a.dataFields.category="year",a.numberFormatter.numberFormat="#",a.renderer.inversed=!0,a.renderer.grid.template.location=0,a.renderer.cellStartLocation=.1,a.renderer.cellEndLocation=.9;var n=e.xAxes.push(new b.e);n.min=-1e9,n.strictMinMax=!0,n.numberFormatter.numberFormat="##.##a",n.numberFormatter.bigNumberPrefixes=[{number:1e9,suffix:"B"}],n.renderer.opposite=!0;var r=e.series.push(new b.b);r.name="Trade Balance",r.fill=c.a("#2E8B57"),r.strokeWidth=0,r.dataFields.valueX="tradeBalance",r.dataFields.categoryY="year",r.columns.template.height=c.c(100),r.sequencedInterpolation=!0,r.columns.template.tooltipText="{name}:\n\u20ac{valueX}",r.columns.template.adapter.add("fill",(function(e,t){return t.dataItem&&t.dataItem.valueX<0?c.a("#800000"):e}));var o=e.series.push(new b.b);o.name="Imports to Finland (2018)",o.fill=c.a("#63718B"),o.strokeWidth=0,o.dataFields.valueX="imports",o.dataFields.categoryY="year",o.columns.template.height=c.c(100),o.sequencedInterpolation=!0,o.columns.template.tooltipText="{name}:\n\u20ac{valueX}";var l=e.series.push(new b.b);l.name="Exports from Finland (2018)",l.fill=c.a("#EBA05C"),l.strokeWidth=0,l.dataFields.valueX="exports",l.dataFields.categoryY="year",l.columns.template.height=c.c(100),l.sequencedInterpolation=!0,l.columns.template.tooltipText="{name}:\n\u20ac{valueX}"}else{var i=e.xAxes.push(new b.a);i.dataFields.category="year",i.numberFormatter.numberFormat="#",i.renderer.inversed=!0,i.renderer.grid.template.location=0,i.renderer.cellStartLocation=.1,i.renderer.cellEndLocation=.9;var s=e.yAxes.push(new b.e);s.numberFormatter.numberFormat="##.##a",s.numberFormatter.bigNumberPrefixes=[{number:1e9,suffix:"B"}];var u=e.series.push(new b.b);u.name="Trade Balance",u.fill=c.a("#2E8B57"),u.strokeWidth=0,u.dataFields.valueY="tradeBalance",u.dataFields.categoryX="year",u.columns.template.height=c.c(100),u.sequencedInterpolation=!0,u.columns.template.tooltipText="{name}:\n\u20ac{valueY}",u.columns.template.adapter.add("fill",(function(e,t){return t.dataItem&&t.dataItem.valueY<0?c.a("#800000"):e}));var d=e.series.push(new b.b);d.name="Imports to Finland (2018)",d.fill=c.a("#63718B"),d.strokeWidth=0,d.dataFields.valueY="imports",d.dataFields.categoryX="year",d.columns.template.height=c.c(100),d.sequencedInterpolation=!0,d.columns.template.tooltipText="{name}:\n\u20ac{valueY}";var m=e.series.push(new b.b);m.name="Exports from Finland (2018)",m.fill=c.a("#EBA05C"),m.strokeWidth=0,m.dataFields.valueY="exports",m.dataFields.categoryX="year",m.columns.template.height=c.c(100),m.sequencedInterpolation=!0,m.columns.template.tooltipText="{name}:\n\u20ac{valueY}"}return function(){e&&e.dispose()}}),[t]),r.a.createElement("div",{id:"chartdiv",style:{width:"100%",height:"100%",overflow:"hidden",paddingTop:"3em"}})},x=a(486),F=function(e){var t=e.SITC2Data,a=e.flow,o={id:"products-treemap-div-".concat(a)};return Object(n.useEffect)((function(){c.d(E.a),c.d(y.a);var e=c.b("products-treemap-div-".concat(a),b.d);return e.data=t,e.dataFields.value="value",e.dataFields.name="group",e.dataFields.children="children",e.seriesTemplates.create("1").columns.template.tooltipText="{group}: {value} \u20ac",window.innerHeight<window.innerWidth&&(e.legend=new b.c,e.legend.position="bottom",e.legend.paddingTop=20),function(){e&&e.dispose()}}),[t,a]),r.a.createElement("div",{style:{width:"100%",height:"100vh",paddingTop:"3em",paddingRight:"2em",paddingLeft:"2em",textAlign:"center"}},r.a.createElement(x.a,{inverted:!0,as:"h3"},"Finnish ",a," by product category (2018)"),r.a.createElement("div",Object.assign({},o,{style:{width:"100%",height:"95%"}})))},C=a(75),j=a.n(C),O=a(121),k=a.n(O),I=function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(k.a.get("/imports"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},B=function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(k.a.get("/exports"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},S=function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(k.a.get("/tradebalance"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},T=function(e){var t;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.awrap(k.a.get("/SITC2/".concat(e)));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},N=function(e,t){var a;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(k.a.get("/SITC2/".concat(e,"/").concat(t[0].code)));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}))},A=function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(k.a.get("/countries"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},L=a(483),W=a(478),X=a(485),Y=a(466),P=a(120),D=a(482),R=function(e){var t=e.country,a=e.tradeData,n=e.flow;return r.a.createElement(D.a,{inverted:!0,basic:!0,celled:!0,selectable:!0,singleLine:!0},r.a.createElement(D.a.Header,null,r.a.createElement(D.a.Row,null,r.a.createElement(D.a.HeaderCell,{colSpan:"2",textAlign:"center"},r.a.createElement(x.a,{as:"h3",style:{color:"#fff"}},"Finland ",n," ",t[0].name)))),r.a.createElement(D.a.Body,null,a.slice(0,10).map((function(e){return r.a.createElement(D.a.Row,{key:e.group},r.a.createElement(D.a.Cell,null,e.group),r.a.createElement(D.a.Cell,null,e.value," \u20ac"))}))))},q=function(e){var t=e.country,a=e.setCountry,o=e.setCountryFilter,l=Object(n.useState)([]),c=Object(i.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)([]),m=Object(i.a)(d,2),p=m[0],h=m[1];return Object(n.useEffect)((function(){N("imports",t).then((function(e){u(e.data)})),N("exports",t).then((function(e){h(e.data)}))}),[t]),0===t.length?null:0===s.length||0===p.length?r.a.createElement(L.a,{active:!0},r.a.createElement(W.a,null)):r.a.createElement(X.a,{container:!0,stackable:!0,relaxed:!0},r.a.createElement(Y.a,{icon:!0,onClick:function(){o(""),a([])},style:{position:"absolute",top:"1em",left:"1em"}},r.a.createElement(P.a,{name:"angle left",size:"large"})),r.a.createElement(X.a.Row,{columns:2},r.a.createElement(X.a.Column,null,r.a.createElement(R,{country:t,tradeData:s,flow:"imported from"})),r.a.createElement(X.a.Column,null,r.a.createElement(R,{country:t,tradeData:p,flow:"exported to"}))))},H=a(479),z=function(e){var t=e.countryFilter,a=e.handleCountryFilterChange;return r.a.createElement(H.a,{icon:"search",placeholder:"Search...",value:t,onChange:function(e){console.log(e.target.value),a(e.target.value)}})},M=a(484),Z=a(480),J=function(){return r.a.createElement(M.a,{inverted:!0,size:"massive",style:{backgroundColor:"#333",marginBottom:"0px"}},r.a.createElement(Z.a,{fluid:!0},r.a.createElement(M.a.Item,{header:!0},r.a.createElement(P.a,{name:"euro sign",size:"large"}),"Finnish Foreign Trade Visualized"),r.a.createElement(M.a.Item,{link:!0,as:"a",href:"#trade-map"},"Trade Map"),r.a.createElement(M.a.Item,{link:!0,as:"a",href:"#trade-balance"},"Trade Balance"),r.a.createElement(M.a.Item,{link:!0,as:"a",href:"#imports-by-product"},"By product group"),r.a.createElement(M.a.Item,{link:!0,as:"a",href:"#trade-partners"},"By trade partner")))},G=function(){return r.a.createElement(M.a,{inverted:!0,secondary:!0,style:{backgroundColor:"#333",marginTop:"0px"}},r.a.createElement(Z.a,{fluid:!0},r.a.createElement(M.a.Item,{link:!0,as:"a",href:"https://github.com/joonaspartanen/finnish-foreign-trade"},"About")))},_=a(286),Q=a.n(_),V=a(142),K=a.n(V),U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(i.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)([]),p=Object(i.a)(d,2),h=p[0],f=p[1],g=Object(n.useState)([]),b=Object(i.a)(g,2),E=b[0],y=b[1],x=Object(n.useState)([]),C=Object(i.a)(x,2),j=C[0],O=C[1],k=Object(n.useState)("exports"),N=Object(i.a)(k,2),L=N[0],W=N[1],X=Object(n.useState)([]),Y=Object(i.a)(X,2),P=Y[0],D=Y[1],R=Object(n.useState)(""),H=Object(i.a)(R,2),M=H[0],_=H[1],V=Object(n.useState)([]),U=Object(i.a)(V,2),$=U[0],ee=U[1];return Object(n.useEffect)((function(){I().then((function(e){o(e.data)})),B().then((function(e){u(e.data)})),S().then((function(e){f(e.data)})),T("imports").then((function(e){y(e.data)})),T("exports").then((function(e){O(e.data)})),A().then((function(e){ee(e.data)}))}),[]),console.log("Flow: ",L),r.a.createElement("div",{style:{backgroundColor:"#343A40"}},r.a.createElement(Z.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0}},r.a.createElement(J,null),(0===a.length||0===s.length)&&r.a.createElement("div",{className:"section",style:{height:"100vh"}},r.a.createElement(Q.a,{animation:"border",variant:"light"})),a.length>0&&s.length>0&&r.a.createElement("div",null,r.a.createElement(K.a,{id:"trade-map"},r.a.createElement("div",{className:"section",style:{position:"relative",height:"calc(100vh - 60px)"}},r.a.createElement(m,{imports:a,exports:s,flow:L}),r.a.createElement(v,{setFlow:W}),r.a.createElement("a",{href:"#trade-balance",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(K.a,{id:"trade-balance"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#333",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(w,{tradeBalance:h}),r.a.createElement("a",{href:"#imports-by-product",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(K.a,{id:"imports-by-product"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#222",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(F,{SITC2Data:E,flow:"imports"}),r.a.createElement("a",{href:"#exports-by-product",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(K.a,{id:"exports-by-product"},r.a.createElement("div",{className:"section",style:{height:"100vh",backgroundColor:"#333",position:"relative",padding:"0 0 3em 0"}},r.a.createElement(F,{SITC2Data:j,flow:"exports"}),r.a.createElement("a",{href:"#country-data",style:{position:"absolute",bottom:"2em"}},r.a.createElement("div",{className:"arrow-down"})))),r.a.createElement(K.a,{id:"trade-partners"},r.a.createElement("div",{className:"section",style:{minHeight:"calc(100vh - 40px)",backgroundColor:"#222",position:"relative",padding:"0 0 3em 0"}},0===P.length&&r.a.createElement(z,{countryFilter:M,handleCountryFilterChange:function(e){_(e);var t=$.filter((function(t){return t.name===e}));D(t)}}),0!==P.length&&r.a.createElement(q,{country:P,setCountry:D,setCountryFilter:_})))),r.a.createElement(G,null)))};l.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[299,1,3]]]);
//# sourceMappingURL=main.b516375d.chunk.js.map