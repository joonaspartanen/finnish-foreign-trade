{"version":3,"sources":["services/countryService.js","reducers/countryReducer.js","services/dataService.js","reducers/tradeDataReducer.js","reducers/colorModeReducer.js","store.js","components/CountryData/CountryDataTable.js","components/CountryData/CountryDataWrapper.js","components/CountryData/CountrySearch.js","components/Footer/Footer.js","components/FlowButtons/FlowButtons.js","components/Map/Map.js","components/Map/MapWrapper.js","components/NavBar/NavBar.js","components/ProductsTreeMap/ProductsTreeMap.js","components/ProductsTreeMap/TreeMapWrapper.js","components/TradeBalanceChart/TradeBalanceChart.js","App.js","index.js"],"names":["getCountryCodes","a","axios","get","response","data","countryReducer","state","action","type","countryCodes","getImports","year","getExports","getTradeBalance","getSitc2Data","flow","getSitc2CountryData","country","code","tradeDataReducer","exportsData","importsData","tradeBalance","sitc2Data","colorModeReducer","darkModeActive","combinedReducer","combineReducers","tradeData","countryData","colorMode","store","createStore","composeWithDevTools","applyMiddleware","thunk","CountryDataTable","Table","inverted","basic","compact","celled","selectable","singleLine","Header","Row","HeaderCell","colSpan","textAlign","as","style","color","name","Body","slice","map","key","group","Cell","value","CountryDataWrapper","setCountry","setCountryFilter","useState","countryImports","setCountryImports","countryExports","setCountryExports","useEffect","dataService","then","res","length","Dimmer","active","Loader","Grid","container","stackable","relaxed","Button","icon","circular","onClick","position","top","left","Icon","size","columns","Column","CountrySearch","handleCountryFilterChange","setValue","isLoading","setIsLoading","results","setResults","undefined","countryNames","c","title","Search","placeholder","loading","onResultSelect","e","result","onSearchChange","_","debounce","re","RegExp","escapeRegExp","foundResults","filter","test","leading","resultRenderer","Footer","Menu","secondary","className","Item","link","href","FlowButtons","setFlow","exportsActive","bottom","zIndex","Group","toggle","content","Map","imports","exports","chart","useRef","am4core","am4themes_dark","am4maps","geodata","am4geodata_worldLow","projection","Mercator","zoomControl","backgroundSeries","mapPolygons","template","polygon","fill","fillOpacity","chartContainer","wheelable","window","innerHeight","innerWidth","homeZoomLevel","minZoomLevel","homeGeoPoint","latitude","longitude","maxPanOut","prepareDataSeries","baseColor","dataSeries","charAt","toUpperCase","id","heatRules","push","property","target","min","brighten","max","useGeodata","exclude","tooltip","getFillFromObject","background","tooltipHTML","label","interactionsEnabled","nonScalingStroke","strokeWidth","states","create","properties","formatFinlandPolygon","events","on","finland","getPolygonById","tooltipText","hoverable","exportsSeries","importsSeries","hidden","series","current","dispose","getIndex","show","hide","width","height","overflow","MapWrapper","console","log","NavBar","setYear","dispatch","useDispatch","header","Dropdown","onChange","event","options","text","selection","Checkbox","ProductsTreeMap","am4themes_animated","am4themes_spiritedaway","treemap","am4charts","responsive","enabled","dataFields","children","level1","seriesTemplates","level1_column","pointerOrientation","legend","paddingTop","itemContainers","labels","adapter","add","rgb","maxLevels","rules","relevant","widthXL","stateId","sprite","clickable","focusable","paddingRight","paddingLeft","TreeMapWrapper","TradeBalanceChart","rotate","marginRight","categoryAxis","xAxes","category","numberFormatter","numberFormat","renderer","inversed","grid","location","cellStartLocation","cellEndLocation","valueAxis","yAxes","bigNumberPrefixes","number","suffix","tradeBalanceSeries","valueY","categoryX","sequencedInterpolation","dataItem","importSeries","exportSeries","App","countryFilter","useSelector","initializeTradeData","Container","fluid","countryName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.70a57872.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst getCountryCodes = async () => {\n  const response = await axios.get('/countries')\n  return response.data\n}\n\nexport default getCountryCodes\n","import getCountryCodes from '../services/countryService'\n\nconst countryReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'INIT_COUNTRYCODES':\n      return {\n        ...state,\n        countryCodes: action.countryCodes,\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializeCountryCodes = () => {\n  return async (dispatch) => {\n    const countryCodes = await getCountryCodes()\n    dispatch({\n      type: 'INIT_COUNTRYCODES',\n      countryCodes: countryCodes,\n    })\n  }\n}\n\nexport default countryReducer\n","import axios from 'axios'\n\nconst getImports = async (year) => {\n  const response = await axios.get(`/imports/${year}`)\n  return response.data\n}\n\nconst getExports = async (year) => {\n  const response = await axios.get(`/exports/${year}`)\n  return response.data\n}\n\nconst getTradeBalance = async () => {\n  const response = await axios.get('/tradebalance')\n  return response.data\n}\n\nconst getSitc2Data = async (year, flow) => {\n  const response = await axios.get(`/SITC2/${flow}/${year}`)\n  return response.data\n}\n\nconst getSitc2CountryData = async (flow, year, country) => {\n  const response = await axios.get(`/SITC2/${flow}/${year}/${country[0].code}`)\n  return response\n}\n\nexport default {\n  getImports,\n  getExports,\n  getTradeBalance,\n  getSitc2Data,\n  getSitc2CountryData,\n}\n","import dataService from '../services/dataService'\n\nconst tradeDataReducer = (state = { flow: 'exports' }, action) => {\n  switch (action.type) {\n    case 'INIT_TRADEDATA':\n      return {\n        ...state,\n        exportsData: action.exportsData,\n        importsData: action.importsData,\n        tradeBalance: action.tradeBalance,\n        sitc2Data: action.sitc2Data,\n      }\n    case 'SET_FLOW':\n      return {\n        ...state,\n        flow: action.flow,\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializeTradeData = (year) => {\n  return async (dispatch) => {\n    const exportsData = await dataService.getExports(year)\n    const importsData = await dataService.getImports(year)\n    const tradeBalance = await dataService.getTradeBalance()\n    const sitc2Data = await dataService.getSitc2Data(year, 'total')\n    dispatch({\n      type: 'INIT_TRADEDATA',\n      exportsData: exportsData,\n      importsData: importsData,\n      tradeBalance: tradeBalance,\n      sitc2Data: sitc2Data,\n    })\n  }\n}\n\nexport const setFlowDirection = (flow) => {\n  return (dispatch) => {\n    dispatch({\n      type: 'SET_FLOW',\n      flow: flow,\n    })\n  }\n}\n\nexport default tradeDataReducer\n","const colorModeReducer = (state = { darkModeActive: true }, action) => {\n  switch (action.type) {\n    case 'CHANGE_MODE':\n      return { ...state, darkModeActive: !state.darkModeActive }\n    default:\n      return state\n  }\n}\n\nexport const changeColorMode = () => {\n  return dispatch => {\n    dispatch({\n      type: 'CHANGE_MODE',\n    })\n  }\n}\n\nexport default colorModeReducer\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport countryReducer from './reducers/countryReducer'\nimport tradeDataReducer from './reducers/tradeDataReducer'\nimport colorModeReducer from './reducers/colorModeReducer'\n\nconst combinedReducer = combineReducers({\n  tradeData: tradeDataReducer,\n  countryData: countryReducer,\n  colorMode: colorModeReducer\n})\n\nconst store = createStore(combinedReducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store\n","import React from 'react'\nimport { Table, Header } from 'semantic-ui-react'\n\nconst CountryDataTable = ({ country, tradeData, flow }) => {\n  return (\n    <Table inverted basic compact celled selectable singleLine>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell colSpan='2' textAlign='center'>\n            <Header as='h3' style={{ color: '#fff' }}>\n              Finland {flow} {country[0].name}\n            </Header>\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {tradeData.slice(0, 10).map(a => (\n          <Table.Row key={a.group}>\n            <Table.Cell>{a.group}</Table.Cell>\n            <Table.Cell>{a.value} €</Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n    </Table>\n  )\n}\n\nexport default CountryDataTable\n","import React, { useState, useEffect } from 'react'\nimport dataService from '../../services/dataService'\nimport { Grid, Button, Icon, Dimmer, Loader } from 'semantic-ui-react'\nimport CountryDataTable from './CountryDataTable'\n\nconst CountryDataWrapper = ({ country, setCountry, setCountryFilter, year }) => {\n  const [countryImports, setCountryImports] = useState([])\n  const [countryExports, setCountryExports] = useState([])\n\n  useEffect(() => {\n    dataService.getSitc2CountryData('imports', year, country).then((res) => {\n      setCountryImports(res.data)\n    })\n    dataService.getSitc2CountryData('exports', year, country).then((res) => {\n      setCountryExports(res.data)\n    })\n  }, [country, year])\n\n  if (country.length === 0) {\n    return null\n  }\n\n  if (countryImports.length === 0 && countryExports.length === 0) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <Grid container stackable relaxed>\n      <Button\n        icon\n        circular\n        onClick={() => {\n          setCountryFilter('')\n          setCountry([])\n        }}\n        style={{ position: 'absolute', top: '1em', left: '1em' }}>\n        <Icon name='angle left' size='large' />\n      </Button>\n      <Grid.Row columns={2}>\n        <Grid.Column>\n          <CountryDataTable country={country} tradeData={countryImports} flow={'imported from'} />\n        </Grid.Column>\n        <Grid.Column>\n          <CountryDataTable country={country} tradeData={countryExports} flow={'exported to'} />\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  )\n}\n\nexport default CountryDataWrapper\n","import React, { useState } from 'react'\nimport { Search } from 'semantic-ui-react'\nimport _ from 'lodash'\n\nconst CountrySearch = ({ handleCountryFilterChange, countryCodes }) => {\n  const [value, setValue] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [results, setResults] = useState([])\n\n  if (countryCodes === undefined) {\n    return null\n  }\n\n  const countryNames = countryCodes.map((c) => ({\n    title: c.name,\n    key: c.code,\n  }))\n\n  const resultRenderer = ({ title }) => <div>{title}</div>\n\n  const handleResultSelect = (e, { result }) => {\n    setValue(result.title)\n    handleCountryFilterChange(result.title)\n  }\n\n  const handleSearchChange = (e, { value }) => {\n    setIsLoading(true)\n    setValue(value)\n\n    setIsLoading(true)\n    setValue(value)\n\n    if (value.length < 1) {\n      setValue('')\n      setIsLoading(false)\n      setResults([])\n      return\n    }\n\n    const re = new RegExp(_.escapeRegExp(value), 'i')\n    const isMatch = (result) => re.test(result.title)\n\n    setIsLoading(false)\n\n    const foundResults = _.filter(countryNames, isMatch)\n\n    if (foundResults.length > 20) {\n      setResults([{ title: 'Please narrow down your search.' }])\n    } else {\n      setResults(foundResults)\n    }\n    if (results.length === 1) {\n      handleCountryFilterChange(results[0].title)\n    }\n  }\n\n  return (\n    <Search\n      placeholder='Search...'\n      loading={isLoading}\n      onResultSelect={handleResultSelect}\n      onSearchChange={_.debounce(handleSearchChange, 500, {\n        leading: true,\n      })}\n      results={results}\n      resultRenderer={resultRenderer}\n      value={value}\n    />\n  )\n}\n\nexport default CountrySearch\n","import React from 'react'\nimport { Menu } from 'semantic-ui-react'\n\nconst Footer = ({ darkModeActive }) => {\n  return (\n    <Menu secondary className={darkModeActive ? 'footer inverted dark-mode' : 'footer'} >\n      <Menu.Item link as='a' href='https://github.com/joonaspartanen/finnish-foreign-trade'>\n        About\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { Button } from 'semantic-ui-react'\n\nconst FlowButtons = ({ flow, setFlow }) => {\n\n  const exportsActive = flow === 'exports'\n\n  return (\n    <div style={{ position: 'absolute', bottom: '2em', left: '2em', zIndex: '1' }}>\n      <Button.Group>\n        <Button\n          toggle\n          active={exportsActive}\n          content='Exports'\n          onClick={value => {\n            if (!exportsActive) {\n              setFlow('exports')\n            }\n          }}\n        />\n        <Button\n          toggle\n          active={!exportsActive}\n          content='Imports'\n          onClick={value => {\n            if (exportsActive) {\n              setFlow('imports')\n            }\n          }}\n        />\n      </Button.Group>\n    </div>\n  )\n}\n\nexport default FlowButtons\n","//import am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4geodata_worldLow from '@amcharts/amcharts4-geodata/worldLow'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport * as am4maps from '@amcharts/amcharts4/maps'\nimport am4themes_dark from '@amcharts/amcharts4/themes/dark'\nimport React, { useEffect, useRef } from 'react'\n\nconst Map = ({ imports, exports, flow }) => {\n  const chart = useRef(null)\n\n  am4core.useTheme(am4themes_dark)\n\n  useEffect(() => {\n    const map = am4core.create('mapdiv', am4maps.MapChart)\n\n    map.geodata = am4geodata_worldLow\n    map.projection = new am4maps.projections.Mercator()\n    map.zoomControl = new am4maps.ZoomControl()\n    map.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color('#EEE')\n    map.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 1\n    map.chartContainer.wheelable = false\n\n    //Use orthographic map projection\n    //map.projection = new am4maps.projections.Orthographic()\n    //map.panBehavior = 'rotateLongLat'\n    //const graticuleSeries = map.series.push(new am4maps.GraticuleSeries())\n    //graticuleSeries.mapLines.template.line.stroke = am4core.color('#67b7dc')\n    //graticuleSeries.mapLines.template.line.strokeOpacity = 0.2\n    //graticuleSeries.fitExtent = false\n\n    // The initial zoom level must be higher if using portrait view.\n    if (window.innerHeight > window.innerWidth) {\n      map.homeZoomLevel = 5\n      map.minZoomLevel = 5\n    } else {\n      map.homeZoomLevel = 2\n      map.minZoomLevel = 2\n    }\n\n    map.homeGeoPoint = {\n      latitude: 50,\n      longitude: 11,\n    }\n\n    map.maxPanOut = 0\n\n    const prepareDataSeries = flow => {\n      const baseColor = flow === 'exports' ? '#5E5B78' : '#C17D80'\n      const hoverColor = '#555'\n\n      const dataSeries = new am4maps.MapPolygonSeries()\n      dataSeries.name = flow.charAt(0).toUpperCase() + flow.slice(1)\n      dataSeries.id = flow\n      dataSeries.heatRules.push({\n        property: 'fill',\n        target: dataSeries.mapPolygons.template,\n        min: am4core.color(baseColor).brighten(1.2),\n        max: am4core.color(baseColor).brighten(-0.4),\n      })\n      dataSeries.useGeodata = true\n      dataSeries.exclude = ['AQ', 'SJ']\n      dataSeries.data = flow === 'exports' ? exports : imports\n\n      dataSeries.tooltip.getFillFromObject = false\n      dataSeries.tooltip.background.fill = am4core.color('#333')\n      dataSeries.tooltip.background.fillOpacity = 0.8\n\n      dataSeries.mapPolygons.template.tooltipHTML = `\n      <div class=\"tooltip\">\n        Total ${\n          flow === 'exports' ? 'exports from Finland to {name}' : 'imports from {name} to Finland'\n        } ({year.formatNumber('#')}):\n        <br>\n        {euros} €\n      </div>\n      `\n      dataSeries.tooltip.label.interactionsEnabled = true\n\n      dataSeries.mapPolygons.template.nonScalingStroke = true\n      dataSeries.mapPolygons.template.strokeWidth = 0.5\n\n      const hoverState = dataSeries.mapPolygons.template.states.create('hover')\n      hoverState.properties.fill = am4core.color(hoverColor)\n\n      formatFinlandPolygon(dataSeries)\n\n      return dataSeries\n    }\n\n    const formatFinlandPolygon = dataSeries => {\n      map.events.on('ready', () => {\n        const finland = dataSeries.getPolygonById('FI')\n        finland.fill = am4core.color('#FFF')\n        finland.tooltipText = ''\n        finland.tooltipHTML = null\n        finland.hoverable = false\n      })\n    }\n\n    const exportsSeries = prepareDataSeries('exports')\n    const importsSeries = prepareDataSeries('imports')\n    importsSeries.hidden = true\n\n    map.series.push(exportsSeries)\n    map.series.push(importsSeries)\n\n    chart.current = map\n\n    return () => {\n      map.dispose()\n    }\n  }, [imports, exports])\n\n  useEffect(() => {\n    const exportsSeries = chart.current.series.getIndex(0)\n    const importsSeries = chart.current.series.getIndex(1)\n\n    if (flow === 'exports') {\n      exportsSeries.show()\n      importsSeries.hide()\n    } else {\n      importsSeries.show()\n      exportsSeries.hide()\n    }\n  }, [flow])\n\n  return <div id='mapdiv' style={{ width: '100%', height: '100%', overflow: 'hidden' }}></div>\n}\n\nexport default Map\n","import React, {useState} from 'react'\nimport {Dimmer, Loader} from 'semantic-ui-react'\nimport FlowButtons from '../FlowButtons/FlowButtons'\nimport Map from './Map'\n\nconst MapWrapper = ({ imports, exports, year }) => {\n    const [flow, setFlow] = useState('exports')\n    console.log(imports)\n    console.log(exports)\n  \n    if (imports === undefined || exports === undefined) {\n      return (\n        <Dimmer active>\n          <Loader />\n        </Dimmer>\n      )\n    }\n  \n    return (\n      <>\n        <FlowButtons flow={flow} setFlow={setFlow} />\n        <Map imports={imports} exports={exports} flow={flow} />\n      </>\n    )\n  }\n  \n  export default MapWrapper\n  ","import React from 'react'\nimport { Menu, Dropdown, Checkbox, Icon } from 'semantic-ui-react'\nimport { useDispatch } from 'react-redux'\nimport { changeColorMode } from '../../reducers/colorModeReducer'\n\nconst NavBar = ({ year, setYear, darkModeActive }) => {\n  const dispatch = useDispatch()\n\n  const years = [\n    { key: 2019, text: '2019', value: 2019 },\n    { key: 2018, text: '2018', value: 2018 },\n    { key: 2017, text: '2017', value: 2017 },\n    { key: 2016, text: '2016', value: 2016 },\n    { key: 2015, text: '2015', value: 2015 },\n    { key: 2014, text: '2014', value: 2014 },\n    { key: 2013, text: '2013', value: 2013 },\n    { key: 2012, text: '2012', value: 2012 },\n  ]\n\n  return (\n    <Menu as='nav' stackable size='large' className={darkModeActive ? 'navbar dark-mode' : 'navbar'}>\n      <Menu.Item header>Finnish Foreign Trade Visualized</Menu.Item>\n      <Menu.Item link as='a' href='#trade-map'>\n        Trade Map\n      </Menu.Item>\n      <Menu.Item link as='a' href='#trade-balance'>\n        Trade Balance\n      </Menu.Item>\n      <Menu.Item link as='a' href='#imports-by-product'>\n        By product group\n      </Menu.Item>\n      <Menu.Item link as='a' href='#trade-partners'>\n        By trade partner\n      </Menu.Item>\n      <Menu.Item>\n        <Dropdown\n          onChange={(event, { value }) => setYear(value)}\n          options={years}\n          placeholder='Year'\n          selection\n          value={year}\n        />\n      </Menu.Item>\n      <Menu.Item className=\"color-mode-toggle\">\n        <Icon name='moon'></Icon>\n        <Checkbox onChange={() => dispatch(changeColorMode())} toggle></Checkbox>\n        <Icon name='sun'></Icon>\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default NavBar\n","import * as am4charts from '@amcharts/amcharts4/charts'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4themes_spiritedaway from '@amcharts/amcharts4/themes/spiritedaway'\nimport React, { useRef, useEffect } from 'react'\nimport { Header } from 'semantic-ui-react'\n\nconst ProductsTreeMap = ({ sitc2Data, flow, year }) => {\n  const chart = useRef(null)\n\n  am4core.useTheme(am4themes_animated)\n  am4core.useTheme(am4themes_spiritedaway)\n\n  useEffect(() => {\n    let treemap = am4core.create('products-treemap-div', am4charts.TreeMap)\n    treemap.responsive.enabled = true\n\n    treemap.data = sitc2Data['exports']\n    treemap.dataFields.value = 'value'\n    treemap.dataFields.name = 'group'\n    treemap.dataFields.children = 'children'\n\n    let level1 = treemap.seriesTemplates.create('1')\n    let level1_column = level1.columns.template\n\n    level1_column.tooltipText = '{group}: {value} €'\n    level1.tooltip.pointerOrientation = 'down'\n\n    treemap.legend = new am4charts.Legend()\n    treemap.legend.position = 'bottom'\n    treemap.legend.paddingTop = 20\n    treemap.legend.itemContainers.template.tooltipText = '{group}'\n    treemap.legend.labels.template.text = ''\n\n    const level0_hoverState = treemap.seriesTemplates\n      .create('0')\n      .columns.template.states.create('hover')\n    level0_hoverState.adapter.add('fill', fill =>\n      am4core.color(am4core.colors.brighten(fill.rgb, -0.2))\n    )\n\n    const level1_hoverState = level1_column.states.create('hover')\n    level1_hoverState.adapter.add('fill', fill =>\n      am4core.color(am4core.colors.brighten(fill.rgb, -0.2))\n    )\n\n    treemap.maxLevels = 1\n\n    treemap.responsive.rules.push({\n      relevant: am4core.ResponsiveBreakpoints.widthXL,\n      state: (target, stateId) => {\n        if (target instanceof am4charts.Legend) {\n          let state = target.states.create(stateId)\n          state.sprite.itemContainers.template.clickable = false\n          state.sprite.itemContainers.template.focusable = false\n          return state\n        }\n        return null\n      },\n    })\n\n    chart.current = treemap\n\n    return () => {\n      treemap.dispose()\n    }\n  }, [sitc2Data])\n\n  useEffect(() => {\n    chart.current.data = sitc2Data[flow]\n  }, [sitc2Data, flow])\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100vh',\n        paddingTop: '3em',\n        paddingRight: '10vw',\n        paddingLeft: '10vw',\n        textAlign: 'center',\n      }}>\n      <Header inverted as='h3'>\n        Finnish {flow} by product category ({year})\n      </Header>\n      <div id='products-treemap-div' style={{ width: '100%', height: '90%' }}></div>\n    </div>\n  )\n}\n\nexport default ProductsTreeMap\n","import React, { useState } from 'react'\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport FlowButtons from '../FlowButtons/FlowButtons'\nimport ProductsTreeMap from './ProductsTreeMap'\n\nconst TreeMapWrapper = ({ sitc2Data, year }) => {\n  const [flow, setFlow] = useState('exports')\n\n  if (sitc2Data === undefined) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <>\n      <FlowButtons flow={flow} setFlow={setFlow} />\n      <ProductsTreeMap sitc2Data={sitc2Data} flow={flow} year={year} />\n    </>\n  )\n}\n\nexport default TreeMapWrapper\n","import React, { useEffect } from 'react'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport * as am4charts from '@amcharts/amcharts4/charts'\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4themes_spiritedaway from '@amcharts/amcharts4/themes/spiritedaway'\nimport { Header } from 'semantic-ui-react'\n\nconst TradeBalanceChart = ({ tradeBalance }) => {\n  useEffect(() => {\n\n    am4core.useTheme(am4themes_animated)\n    am4core.useTheme(am4themes_spiritedaway)\n\n    let chart = am4core.create('chartdiv', am4charts.XYChart)\n    chart.responsive.enabled = true\n    chart.rotate = true\n\n    chart.data = tradeBalance\n    chart.marginRight = '100'\n\n    let categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis())\n    categoryAxis.dataFields.category = 'year'\n    categoryAxis.numberFormatter.numberFormat = '#'\n    categoryAxis.renderer.inversed = true\n    categoryAxis.renderer.grid.template.location = 0\n    categoryAxis.renderer.cellStartLocation = 0.1\n    categoryAxis.renderer.cellEndLocation = 0.9\n\n    let valueAxis = chart.yAxes.push(new am4charts.ValueAxis())\n    // valueAxis.min = 0\n    valueAxis.numberFormatter.numberFormat = '##.##a'\n    valueAxis.numberFormatter.bigNumberPrefixes = [{ number: 1e9, suffix: 'B' }]\n\n    let tradeBalanceSeries = chart.series.push(new am4charts.ColumnSeries())\n    tradeBalanceSeries.name = 'Trade Balance'\n    tradeBalanceSeries.fill = am4core.color('#2E8B57')\n    tradeBalanceSeries.strokeWidth = 0\n    tradeBalanceSeries.dataFields.valueY = 'tradeBalance'\n    tradeBalanceSeries.dataFields.categoryX = 'year'\n    tradeBalanceSeries.columns.template.height = am4core.percent(100)\n    tradeBalanceSeries.sequencedInterpolation = true\n    tradeBalanceSeries.columns.template.tooltipText = '{name}:\\n€{valueY}'\n\n    tradeBalanceSeries.columns.template.adapter.add('fill', (fill, target) => {\n      if (target.dataItem && target.dataItem.valueY < 0) {\n        return am4core.color('#800000')\n      } else {\n        return fill\n      }\n    })\n\n    let importSeries = chart.series.push(new am4charts.ColumnSeries())\n    importSeries.name = 'Imports to Finland'\n    importSeries.fill = am4core.color('#63718B')\n    importSeries.strokeWidth = 0\n    importSeries.dataFields.valueY = 'imports'\n    importSeries.dataFields.categoryX = 'year'\n    importSeries.columns.template.height = am4core.percent(100)\n    importSeries.sequencedInterpolation = true\n    importSeries.columns.template.tooltipText = '{name}:\\n€{valueY}'\n\n    let exportSeries = chart.series.push(new am4charts.ColumnSeries())\n    exportSeries.name = 'Exports from Finland'\n    exportSeries.fill = am4core.color('#EBA05C')\n    exportSeries.strokeWidth = 0\n    exportSeries.dataFields.valueY = 'exports'\n    exportSeries.dataFields.categoryX = 'year'\n    exportSeries.columns.template.height = am4core.percent(100)\n    exportSeries.sequencedInterpolation = true\n    exportSeries.columns.template.tooltipText = '{name}:\\n€{valueY}'\n\n    /* chart.responsive.rules.push({\n      relevant: am4core.ResponsiveBreakpoints.widthXL,\n      state: (target, stateId) => {\n        if (target instanceof am4charts.Chart) {\n          let state = target.states.create(stateId)\n          console.log(state)\n          return state\n        }\n\n        if (target instanceof am4charts.CategoryAxis) {\n          let state = target.states.create(stateId)\n          console.log(state.sprite.renderer)\n          return state\n        }\n        if (target instanceof am4charts.ValueAxis) {\n          let state = target.states.create(stateId)\n          console.log(state)\n          //state.sprite.renderer.opposite = true\n          return state\n        }\n        return null\n      }\n    }) */\n\n    return () => {\n      if (chart) {\n        chart.dispose()\n      }\n    }\n  }, [tradeBalance])\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        paddingTop: '3em',\n        textAlign: 'center'\n      }}>\n      <Header inverted as='h3'>\n        Finnish Trade Balance\n      </Header>\n      <div id='chartdiv' style={{ width: '100%', height: '95%' }}></div>\n    </div>\n  )\n}\n\nexport default TradeBalanceChart\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport ScrollableAnchor from 'react-scrollable-anchor'\nimport { Container, Loader } from 'semantic-ui-react'\nimport './App.scss'\nimport CountryDataWrapper from './components/CountryData/CountryDataWrapper'\nimport CountrySearch from './components/CountryData/CountrySearch'\nimport Footer from './components/Footer/Footer'\nimport MapWrapper from './components/Map/MapWrapper'\nimport NavBar from './components/NavBar/NavBar'\nimport TreeMapWrapper from './components/ProductsTreeMap/TreeMapWrapper'\nimport TradeBalanceChart from './components/TradeBalanceChart/TradeBalanceChart'\nimport { initializeTradeData } from './reducers/tradeDataReducer'\nimport { initializeCountryCodes } from './reducers/countryReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  const [year, setYear] = useState(2019)\n  const [country, setCountry] = useState([])\n  const [countryFilter, setCountryFilter] = useState('')\n\n  const handleCountryFilterChange = countryName => {\n    setCountryFilter(countryName)\n    const country = countryCodes.filter(c => c.name === countryName)\n    setCountry(country)\n  }\n\n  const state = useSelector(state => state)\n  const tradeData = state.tradeData\n  const countryCodes = state.countryData.countryCodes\n  console.log(state)\n\n  useEffect(() => {\n    dispatch(initializeTradeData(year))\n    dispatch(initializeCountryCodes())\n  }, [year, dispatch])\n\n  return (\n    <div className={state.colorMode.darkModeActive ? 'main-container dark-mode' : 'main-container'}>\n      <Container fluid>\n        <NavBar year={year} setYear={setYear} darkModeActive={state.colorMode.darkModeActive} />\n        {(tradeData.importsData === undefined || tradeData.exportsData === undefined) && (\n          <div style={{ height: '100vh' }}>\n            <Loader active />\n          </div>\n        )}\n        {tradeData.importsData !== undefined && tradeData.exportsData !== undefined && (\n          <div>\n            <ScrollableAnchor id={'trade-map'}>\n              <section\n                className={\n                  state.colorMode.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                <MapWrapper\n                  imports={tradeData.importsData}\n                  exports={tradeData.exportsData}></MapWrapper>\n                <a href='#trade-balance' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'trade-balance'}>\n              <section\n                className={\n                  state.colorMode.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                <TradeBalanceChart tradeBalance={tradeData.tradeBalance} />\n                <a href='#imports-by-product' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'imports-by-product'}>\n              <section\n                className={\n                  state.colorMode.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                <TreeMapWrapper sitc2Data={tradeData.sitc2Data} year={year} />\n                <a href='#trade-partners' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'trade-partners'}>\n              <section\n                className={\n                  state.colorMode.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                {country.length === 0 && (\n                  <CountrySearch\n                    countryFilter={countryFilter}\n                    handleCountryFilterChange={handleCountryFilterChange}\n                    countryCodes={countryCodes}\n                  />\n                )}\n                {country.length !== 0 && (\n                  <CountryDataWrapper\n                    country={country}\n                    setCountry={setCountry}\n                    setCountryFilter={setCountryFilter}\n                    year={year}\n                  />\n                )}\n              </section>\n            </ScrollableAnchor>\n          </div>\n        )}\n        <Footer darkModeActive={state.colorMode.darkModeActive} />\n      </Container>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport App from './App'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}