{"version":3,"sources":["components/Map.js","components/Menu.js","components/TradeBalanceChart.js","components/ExportsChart.js","components/ImportsChart.js","services/DataService.js","App.js","index.js"],"names":["Map","imports","exports","flow","values","year","colorIndex","hoverColor","useEffect","map","am4core","am4maps","geodata","am4geodata_worldLow","projection","Orthographic","panBehavior","zoomControl","backgroundSeries","mapPolygons","template","polygon","fill","fillOpacity","graticuleSeries","series","push","mapLines","line","stroke","strokeOpacity","fitExtent","homeZoomLevel","polygonSeries","heatRules","property","target","min","colors","getIndex","brighten","max","console","log","useGeodata","exclude","data","polygonTemplate","tooltipText","nonScalingStroke","strokeWidth","states","create","properties","dispose","id","style","width","height","Menu","setFlow","toggle","name","variant","active","onClick","value","TradeBalanceChart","tradeBalance","am4themes_animated","am4themes_spriritedaway","chart","am4charts","marginRight","categoryAxis","yAxes","dataFields","category","numberFormatter","numberFormat","renderer","inversed","grid","location","cellStartLocation","cellEndLocation","valueAxis","xAxes","bigNumberPrefixes","opposite","importSeries","valueX","categoryY","columns","sequencedInterpolation","exportSeries","ExportsChart","am4themes_spiritedaway","pieSeries","labels","disabled","ticks","grouper","plugins","am4plugins_sliceGrouper","threshold","groupName","clickBehavior","innerRadius","label","createChild","text","horizontalCenter","verticalCenter","fontSize","ImportsChart","getImports","a","axios","get","response","getExports","getTradeBalance","getImportsBySITC","getExportsBySITC","configureAnchors","offset","App","useState","setImports","setExports","setTradeBalance","importsSITC","setImportsSITC","exportsSITC","setExportsSITC","setYear","dataService","then","res","backgroundColor","bg","expand","fixed","Brand","href","length","className","animation","role","padding","sm","Link","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4d8d0754.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\r\nimport * as am4core from '@amcharts/amcharts4/core'\r\nimport * as am4maps from '@amcharts/amcharts4/maps'\r\n//import am4themes_animated from '@amcharts/amcharts4/themes/animated'\r\nimport am4geodata_worldLow from '@amcharts/amcharts4-geodata/worldLow'\r\n\r\nconst Map = ({ imports, exports, flow, year }) => {\r\n\r\n  let values = null\r\n  let colorIndex = 0\r\n  let hoverColor = null\r\n\r\n  if (flow === 'exports') {\r\n    values = exports\r\n    colorIndex = 0\r\n    hoverColor = '#800000'\r\n  } else {\r\n    values = imports\r\n    colorIndex = 6\r\n    hoverColor = '#800000'\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    //am4core.useTheme(am4themes_animated)\r\n\r\n    let map = am4core.create('mapdiv', am4maps.MapChart)\r\n\r\n    map.geodata = am4geodata_worldLow\r\n    //map.projection = new am4maps.projections.Miller()\r\n    map.projection = new am4maps.projections.Orthographic()\r\n    map.panBehavior = 'rotateLongLat'\r\n    map.zoomControl = new am4maps.ZoomControl()\r\n    map.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color('#EEE')\r\n    map.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 1\r\n\r\n    let graticuleSeries = map.series.push(new am4maps.GraticuleSeries())\r\n    graticuleSeries.mapLines.template.line.stroke = am4core.color('#67b7dc')\r\n    graticuleSeries.mapLines.template.line.strokeOpacity = 0.2\r\n    graticuleSeries.fitExtent = false\r\n\r\n    map.homeZoomLevel = 1\r\n\r\n    let polygonSeries = map.series.push(new am4maps.MapPolygonSeries())\r\n\r\n    polygonSeries.heatRules.push({\r\n      property: 'fill',\r\n      target: polygonSeries.mapPolygons.template,\r\n      min: map.colors.getIndex(colorIndex).brighten(0.8),\r\n      max: map.colors.getIndex(colorIndex).brighten(-0.6)\r\n    })\r\n\r\n    console.log(colorIndex)\r\n    polygonSeries.useGeodata = true\r\n    polygonSeries.exclude = ['AQ']\r\n\r\n    polygonSeries.data = values\r\n\r\n    let polygonTemplate = polygonSeries.mapPolygons.template\r\n    polygonTemplate.tooltipText = `{name}: {euros} €`\r\n    polygonTemplate.nonScalingStroke = true\r\n    polygonTemplate.strokeWidth = 0.5\r\n\r\n    let hs = polygonTemplate.states.create('hover')\r\n    hs.properties.fill = am4core.color(hoverColor)\r\n\r\n    return (() => {\r\n      if (map) {\r\n        map.dispose()\r\n      }\r\n    })\r\n\r\n    /* let heatLegend = map.createChild(am4maps.HeatLegend)\r\n    heatLegend.series = polygonSeries\r\n    heatLegend.width = am4core.percent(100)\r\n    heatLegend.orientation = 'vertical' */\r\n\r\n  }, [values, colorIndex, hoverColor])\r\n\r\n  return (\r\n    <div>\r\n      <div id='mapdiv' style={{ width: '100%', height: '75vh' }}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Map","import React from 'react'\r\nimport ToggleButton from 'react-bootstrap/ToggleButton'\r\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup'\r\n\r\nconst Menu = ({ flow, setFlow }) => {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <ToggleButtonGroup\r\n        toggle='true'\r\n        name='change-flow'>\r\n        <ToggleButton\r\n          variant='primary'\r\n          active\r\n          onClick={(value) => setFlow('exports')}>\r\n          Exports\r\n        </ToggleButton>\r\n        <ToggleButton\r\n          variant='secondary'\r\n          onClick={(value) => setFlow('imports')}>\r\n          Imports\r\n        </ToggleButton>\r\n      </ToggleButtonGroup >\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Menu","import React, { useEffect } from 'react'\r\nimport * as am4core from '@amcharts/amcharts4/core'\r\nimport * as am4charts from '@amcharts/amcharts4/charts'\r\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\r\nimport am4themes_spriritedaway from '@amcharts/amcharts4/themes/spiritedaway'\r\n\r\n\r\nconst TradeBalanceChart = ({ tradeBalance }) => {\r\n\r\n  useEffect(() => {\r\n\r\n    am4core.useTheme(am4themes_animated);\r\n    am4core.useTheme(am4themes_spriritedaway)\r\n\r\n    let chart = am4core.create('chartdiv', am4charts.XYChart)\r\n    chart.data = tradeBalance\r\n    chart.marginRight = '100'\r\n\r\n    let categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis())\r\n    categoryAxis.dataFields.category = 'year'\r\n    categoryAxis.numberFormatter.numberFormat = '#'\r\n    categoryAxis.renderer.inversed = true\r\n    categoryAxis.renderer.grid.template.location = 0\r\n    categoryAxis.renderer.cellStartLocation = 0.1\r\n    categoryAxis.renderer.cellEndLocation = 0.9\r\n\r\n    let valueAxis = chart.xAxes.push(new am4charts.ValueAxis())\r\n    valueAxis.min = 0\r\n    valueAxis.numberFormatter.numberFormat = '##.##a'\r\n    valueAxis.numberFormatter.bigNumberPrefixes = [\r\n      { 'number': 1e+9, 'suffix': 'B' }\r\n    ]\r\n    valueAxis.renderer.opposite = true\r\n\r\n    let importSeries = chart.series.push(new am4charts.ColumnSeries())\r\n    importSeries.name = 'Imports'\r\n    importSeries.fill = am4core.color('#63718B')\r\n    importSeries.strokeWidth = 0\r\n    importSeries.dataFields.valueX = 'imports'\r\n    importSeries.dataFields.categoryY = 'year'\r\n    importSeries.columns.template.height = am4core.percent(100)\r\n    importSeries.sequencedInterpolation = true\r\n    importSeries.columns.template.tooltipText = '{name}: €{valueX}'\r\n\r\n\r\n    //let importBullet = importSeries.bullets.push(new am4charts.CircleBullet())\r\n    //importBullet.tooltipText = 'Imports: [bold]{valueY} €[/] ({categoryX})'\r\n\r\n    let exportSeries = chart.series.push(new am4charts.ColumnSeries())\r\n    exportSeries.name = 'Exports'\r\n    exportSeries.fill = am4core.color('#EBA05C')\r\n    exportSeries.strokeWidth = 0\r\n    exportSeries.dataFields.valueX = 'exports'\r\n    exportSeries.dataFields.categoryY = 'year'\r\n    exportSeries.columns.template.height = am4core.percent(100)\r\n    exportSeries.sequencedInterpolation = true\r\n    exportSeries.columns.template.tooltipText = '{name}: €{valueX}'\r\n\r\n    //let exportBullet = exportSeries.bullets.push(new am4charts.CircleBullet())\r\n    // exportBullet.tooltipText = 'Exports: [bold]{valueY} €[/] ({categoryX})'\r\n\r\n    /* let tradeBalanceSeries = chart.series.push(new am4charts.ColumnSeries())\r\n     tradeBalanceSeries.name = 'Balance of Trade'\r\n     tradeBalanceSeries.stroke = am4core.color('#5a5')\r\n     tradeBalanceSeries.fill = am4core.color('#5a5')\r\n     tradeBalanceSeries.dataFields.valueY = 'tradeBalance'\r\n     tradeBalanceSeries.dataFields.categoryX = 'year'\r\n     tradeBalanceSeries.columns.template.tooltipText = '{name}: [bold]{valueY}[/] ({categoryX}))'\r\n \r\n     tradeBalanceSeries.columns.template.adapter.add('fill', function (fill, target) {\r\n       if (target.dataItem && (target.dataItem.valueY < 0)) {\r\n         return am4core.color('#a55');\r\n       }\r\n       else {\r\n         return fill;\r\n       }\r\n     }) */\r\n\r\n    return (() => {\r\n      if (chart) {\r\n        chart.dispose()\r\n      }\r\n    })\r\n\r\n  }, [tradeBalance])\r\n\r\n  return (\r\n    <div>\r\n      <div id='chartdiv' style={{ width: '100%', height: '80vh' }}></div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default TradeBalanceChart","import React, { useEffect } from 'react'\r\nimport * as am4core from '@amcharts/amcharts4/core'\r\nimport * as am4charts from '@amcharts/amcharts4/charts'\r\nimport * as am4plugins_sliceGrouper from '@amcharts/amcharts4/plugins/sliceGrouper'\r\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\r\nimport am4themes_spiritedaway from '@amcharts/amcharts4/themes/spiritedaway'\r\n\r\nconst ExportsChart = ({ exports }) => {\r\n\r\n  useEffect(() => {\r\n\r\n    am4core.useTheme(am4themes_animated)\r\n    am4core.useTheme(am4themes_spiritedaway)\r\n\r\n    let chart = am4core.create('exports-chart-div', am4charts.PieChart)\r\n    chart.data = exports\r\n\r\n    /* let title = chart.titles.create()\r\n     title.text = 'Exports from Finland'\r\n     title.fontSize = 25 */\r\n\r\n    let pieSeries = chart.series.push(new am4charts.PieSeries())\r\n    pieSeries.dataFields.value = 'euros'\r\n    pieSeries.dataFields.category = 'class'\r\n    pieSeries.labels.template.disabled = true\r\n    pieSeries.ticks.template.disabled = true\r\n\r\n    let grouper = pieSeries.plugins.push(new am4plugins_sliceGrouper.SliceGrouper())\r\n    grouper.threshold = 5\r\n    grouper.groupName = 'Other'\r\n    grouper.clickBehavior = 'break'\r\n\r\n\r\n   // chart.legend = new am4charts.Legend()\r\n   // chart.legend.position = 'bottom'\r\n\r\n    chart.innerRadius = am4core.percent(40)\r\n\r\n    var label = pieSeries.createChild(am4core.Label)\r\n    label.text = 'Exports'\r\n    label.horizontalCenter = 'middle'\r\n    label.verticalCenter = 'middle'\r\n    label.fontSize = 20\r\n\r\n    return (() => {\r\n      if (chart) {\r\n        chart.dispose()\r\n      }\r\n    })\r\n\r\n  }, [exports])\r\n\r\n  return (\r\n    <div>\r\n      <div id='exports-chart-div' style={{ width: '100%', height: '60vh' }}></div>\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default ExportsChart\r\n","import React, { useEffect } from 'react'\r\nimport * as am4core from '@amcharts/amcharts4/core'\r\nimport * as am4charts from '@amcharts/amcharts4/charts'\r\nimport * as am4plugins_sliceGrouper from '@amcharts/amcharts4/plugins/sliceGrouper'\r\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\r\nimport am4themes_spiritedaway from '@amcharts/amcharts4/themes/spiritedaway'\r\n\r\n\r\nconst ImportsChart = ({ imports }) => {\r\n\r\n  useEffect(() => {\r\n\r\n    am4core.useTheme(am4themes_animated)\r\n    am4core.useTheme(am4themes_spiritedaway)\r\n\r\n    let chart = am4core.create('imports-chart-div', am4charts.PieChart)\r\n    chart.data = imports\r\n\r\n   /* let title = chart.titles.create()\r\n    title.text = 'Imports to Finland'\r\n    title.fontSize = 25 */\r\n\r\n    let pieSeries = chart.series.push(new am4charts.PieSeries())\r\n    pieSeries.dataFields.value = 'euros'\r\n    pieSeries.dataFields.category = 'class'\r\n    pieSeries.labels.template.disabled = true\r\n    pieSeries.ticks.template.disabled = true\r\n\r\n    let grouper = pieSeries.plugins.push(new am4plugins_sliceGrouper.SliceGrouper())\r\n    grouper.threshold = 5\r\n    grouper.groupName = 'Other'\r\n    grouper.clickBehavior = 'break'\r\n\r\n    //chart.legend = new am4charts.Legend()\r\n    //chart.legend.position = 'bottom'\r\n\r\n    chart.innerRadius = am4core.percent(40)\r\n\r\n    var label = pieSeries.createChild(am4core.Label)\r\n    label.text = 'Imports'\r\n    label.horizontalCenter = 'middle'\r\n    label.verticalCenter = 'middle'\r\n    label.fontSize = 20\r\n\r\n    return (() => {\r\n      if (chart) {\r\n        chart.dispose()\r\n      }\r\n    })\r\n\r\n  }, [imports])\r\n\r\n  return (\r\n    <div>\r\n      <div id='imports-chart-div' style={{ width: '100%', height: '60vh' }}></div>\r\n    </div >\r\n  )\r\n\r\n}\r\n\r\nexport default ImportsChart\r\n","import axios from 'axios'\r\n\r\nconst getImports = async () => {\r\n  const response = await axios.get('/imports')\r\n  return response\r\n}\r\n\r\nconst getExports = async () => {\r\n  const response = await axios.get('/exports')\r\n  return response\r\n}\r\n\r\nconst getTradeBalance = async () => {\r\n  const response = await axios.get('/tradebalance')\r\n  return response\r\n}\r\n\r\nconst getImportsBySITC = async () => {\r\n  const response = await axios.get('/imports/SITC1')\r\n  return response\r\n}\r\n\r\nconst getExportsBySITC = async () => {\r\n  const response = await axios.get('/exports/SITC1')\r\n  return response\r\n}\r\n\r\n\r\nexport default {\r\n  getImports,\r\n  getExports,\r\n  getTradeBalance,\r\n  getImportsBySITC,\r\n  getExportsBySITC\r\n}","import React, { useState, useEffect } from 'react'\nimport Map from './components/Map'\nimport Menu from './components/Menu'\nimport TradeBalanceChart from './components/TradeBalanceChart'\nimport ExportsChart from './components/ExportsChart'\nimport ImportsChart from './components/ImportsChart'\nimport dataService from './services/DataService'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Spinner from 'react-bootstrap/Spinner'\nimport ScrollableAnchor from 'react-scrollable-anchor'\nimport { configureAnchors } from 'react-scrollable-anchor'\nimport './App.css'\n\nconfigureAnchors({ offset: -50 })\n\nconst App = () => {\n\n  const [imports, setImports] = useState([])\n  const [exports, setExports] = useState([])\n  const [tradeBalance, setTradeBalance] = useState([])\n\n  const [importsSITC, setImportsSITC] = useState([])\n  const [exportsSITC, setExportsSITC] = useState([])\n\n  const [flow, setFlow] = useState('exports')\n  const [year, setYear] = useState(2018)\n\n  useEffect(() => {\n    dataService.getImports().then(res => {\n      console.log(res.data)\n      setImports(res.data)\n    })\n    dataService.getExports().then(res => {\n      console.log(res.data)\n      setExports(res.data)\n    })\n    dataService.getTradeBalance().then(res => {\n      console.log(res.data)\n      setTradeBalance(res.data)\n    })\n    dataService.getImportsBySITC().then(res => {\n      console.log(res.data)\n      setImportsSITC(res.data)\n    })\n    dataService.getExportsBySITC().then(res => {\n      console.log(res.data)\n      setExportsSITC(res.data)\n    })\n  }, [])\n\n  console.log('Flow: ', flow)\n  return (\n    <div style={{ backgroundColor: '#FFF' }}>\n      <Navbar bg='dark' variant='dark' expand='lg' fixed='top'>\n        <Navbar.Brand href='#'>Finnish Foreign Trade Visualized</Navbar.Brand>\n      </Navbar>\n      <Container>\n        {(imports.length === 0 || exports.length === 0) &&\n          <Row className='justify-content-center align-items-center' style={{ height: '100vh' }}>\n            <Spinner animation='border' role='status'>\n              <span className='sr-only'>Loading...</span>\n            </Spinner>\n          </Row>\n        }\n        {(imports.length > 0 && exports.length > 0) &&\n          <div>\n            <Row className='justify-content-center' style={{ height: '100vh' }}>\n              <Col>\n                <h2 className='text-center display-5' style={{ padding: '0.5em 0 0.5em 0' }}>\n                  Trade Partners (2018)\n                </h2>\n                <Map\n                  imports={imports}\n                  exports={exports}\n                  flow={flow}\n                  year={year}\n                />\n                <Menu\n                  setYear={setYear}\n                  flow={flow}\n                  setFlow={setFlow}\n                />\n                <Row className='justify-content-center'>\n                  <a href='#trade-balance'>\n                    <div className='arrow-down'></div>\n                  </a>\n                </Row>\n              </Col>\n            </Row>\n            <ScrollableAnchor id={'trade-balance'}>\n              <Row>\n                <Col>\n                  <h2 className='text-center display-5' style={{ padding: '0.5em 0 0 0' }}>\n                    Trade Balance (2009-2018)\n                </h2>\n                  {(tradeBalance.length > 0) &&\n                    <TradeBalanceChart tradeBalance={tradeBalance} />\n                  }\n                </Col>\n              </Row>\n            </ScrollableAnchor>\n            <Row className='justify-content-center'>\n              <a href='#by-product'>\n                <div className='arrow-down'></div>\n              </a>\n            </Row>\n            <ScrollableAnchor id={'by-product'}>\n              <Row style={{ height: '100vh' }}>\n                <h2 className='text-center display-5' style={{ padding: '1em 0 0 0' }}>\n                  Imports and Exports by Product Category (2018)\n                </h2>\n                <Col sm={6}>\n                  {(exportsSITC.length > 0) &&\n                    <ExportsChart exports={exportsSITC} />\n                  }\n                </Col>\n                <Col sm={6}>\n                  {(importsSITC.length > 0) &&\n                    <ImportsChart imports={importsSITC} />\n                  }\n                </Col>\n              </Row>\n            </ScrollableAnchor>\n          </div>\n        }\n      </Container>\n      <Navbar bg='dark' variant='dark' expand='lg'>\n        <Nav className='mr-auto'>\n          <Nav.Link href='#'>About</Nav.Link>\n        </Nav>\n      </Navbar>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}