{"version":3,"sources":["services/countryService.js","reducers/countryReducer.js","services/dataService.js","reducers/tradeDataReducer.js","reducers/colorModeReducer.js","store.js","components/CountryData/CountryDataTable.js","components/CountryData/CountryDataWrapper.js","components/CountryData/CountrySearch.js","components/Footer/Footer.js","components/FlowButtons/FlowButtons.js","components/Map/Map.js","components/Map/MapWrapper.js","components/NavBar/NavBar.js","components/ProductsTreeMap/ProductsTreeMap.js","components/ProductsTreeMap/TreeMapWrapper.js","components/TradeBalanceChart/D3TradeBalanceChart.js","App.js","index.js"],"names":["getCountryCodes","a","axios","get","response","data","countryCodes","state","action","type","payload","getImports","year","getExports","getTradeBalance","getSitc2Data","flow","getSitc2CountryData","country","code","tradeData","exportsData","importsData","tradeBalance","sitc2Data","darkModeActive","combinedReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","CountryDataTable","Table","inverted","basic","compact","celled","selectable","singleLine","Header","Row","HeaderCell","colSpan","textAlign","as","style","color","name","Body","slice","map","key","group","Cell","value","CountryDataWrapper","setCountry","setCountryFilter","useState","countryImports","setCountryImports","countryExports","setCountryExports","useEffect","dataService","then","res","length","Dimmer","active","Loader","Grid","container","stackable","relaxed","Button","icon","circular","onClick","position","top","left","Icon","size","columns","Column","CountrySearch","handleCountryFilterChange","setValue","isLoading","setIsLoading","results","setResults","undefined","countryNames","c","title","Search","placeholder","loading","onResultSelect","e","result","onSearchChange","_","debounce","re","RegExp","escapeRegExp","foundResults","filter","test","leading","resultRenderer","Footer","Menu","secondary","className","Item","link","href","FlowButtons","setFlow","exportsActive","bottom","zIndex","Group","toggle","content","Map","imports","exports","chart","useRef","am4core","am4themes_dark","am4maps","geodata","am4geodata_worldLow","projection","Mercator","zoomControl","backgroundSeries","mapPolygons","template","polygon","fill","fillOpacity","chartContainer","wheelable","window","innerHeight","innerWidth","homeZoomLevel","minZoomLevel","homeGeoPoint","latitude","longitude","maxPanOut","prepareDataSeries","baseColor","dataSeries","charAt","toUpperCase","id","heatRules","push","property","target","min","brighten","max","useGeodata","exclude","tooltip","getFillFromObject","background","tooltipHTML","label","interactionsEnabled","nonScalingStroke","strokeWidth","states","create","properties","formatFinlandPolygon","events","on","finland","getPolygonById","tooltipText","hoverable","exportsSeries","importsSeries","hidden","series","current","dispose","getIndex","show","hide","width","height","overflow","MapWrapper","NavBar","setYear","dispatch","useDispatch","header","Dropdown","onChange","event","options","text","selection","Checkbox","ProductsTreeMap","am4themes_animated","am4themes_spiritedaway","treemap","am4charts","responsive","enabled","dataFields","children","level1","seriesTemplates","level1_column","pointerOrientation","legend","paddingTop","itemContainers","labels","adapter","add","rgb","maxLevels","rules","relevant","widthXL","stateId","sprite","clickable","focusable","paddingRight","paddingLeft","TreeMapWrapper","D3TradeBalanceChart","ref","margin","padding","keys","keyDescriptions","colors","d3","range","maxValue","Math","d","svg","append","attr","x0","domain","sort","b","rangeRound","paddingInner","x1","bandwidth","y","nice","call","g","tickSize","select","remove","selectAll","ticks","tickSizeInner","tickFormat","join","transition","ease","duration","drawHorizontalChart","this","darker","tooltipHtml","showTooltip","moveTooltip","html","pageX","pageY","enter","i","console","log","App","countryFilter","useSelector","initializeTradeData","Container","fluid","countryName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4ac2b10d.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst getCountryCodes = async () => {\n  const response = await axios.get('/countries')\n  return response.data\n}\n\nexport default getCountryCodes\n","import getCountryCodes from '../services/countryService'\n\nconst countryCodes = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_COUNTRYCODES':\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport const initializeCountryCodes = () => {\n  return async dispatch => {\n    const countryCodes = await getCountryCodes()\n    dispatch({\n      type: 'INIT_COUNTRYCODES',\n      payload: countryCodes,\n    })\n  }\n}\n\nexport default countryCodes\n","import axios from 'axios'\n\nconst getImports = async (year) => {\n  const response = await axios.get(`/imports/${year}`)\n  return response.data\n}\n\nconst getExports = async (year) => {\n  const response = await axios.get(`/exports/${year}`)\n  return response.data\n}\n\nconst getTradeBalance = async () => {\n  const response = await axios.get('/tradebalance')\n  return response.data\n}\n\nconst getSitc2Data = async (year, flow) => {\n  const response = await axios.get(`/SITC2/${flow}/${year}`)\n  return response.data\n}\n\nconst getSitc2CountryData = async (flow, year, country) => {\n  const response = await axios.get(`/SITC2/${flow}/${year}/${country[0].code}`)\n  return response\n}\n\nexport default {\n  getImports,\n  getExports,\n  getTradeBalance,\n  getSitc2Data,\n  getSitc2CountryData,\n}\n","import dataService from '../services/dataService'\n\nconst tradeData = (state = { flow: 'exports' }, action) => {\n  switch (action.type) {\n    case 'INIT_TRADEDATA':\n      return {\n        ...state,\n        exportsData: action.exportsData,\n        importsData: action.importsData,\n        tradeBalance: action.tradeBalance,\n        sitc2Data: action.sitc2Data,\n      }\n    case 'SET_FLOW':\n      return {\n        ...state,\n        flow: action.flow,\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializeTradeData = year => {\n  return async dispatch => {\n    const exportsData = await dataService.getExports(year)\n    const importsData = await dataService.getImports(year)\n    const tradeBalance = await dataService.getTradeBalance()\n    const sitc2Data = await dataService.getSitc2Data(year, 'total')\n    dispatch({\n      type: 'INIT_TRADEDATA',\n      exportsData: exportsData,\n      importsData: importsData,\n      tradeBalance: tradeBalance,\n      sitc2Data: sitc2Data,\n    })\n  }\n}\n\nexport const setFlowDirection = flow => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_FLOW',\n      flow: flow,\n    })\n  }\n}\n\nexport default tradeData\n","const darkModeActive = (state = true, action) => {\n  switch (action.type) {\n    case 'CHANGE_MODE':\n      return !state\n    default:\n      return state\n  }\n}\n\nexport const changeColorMode = () => {\n  return dispatch => {\n    dispatch({\n      type: 'CHANGE_MODE',\n    })\n  }\n}\n\nexport default darkModeActive\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport countryCodes from './reducers/countryReducer'\nimport tradeData from './reducers/tradeDataReducer'\nimport darkModeActive from './reducers/colorModeReducer'\n\nconst combinedReducer = combineReducers({\n  tradeData,\n  countryCodes,\n  darkModeActive,\n})\n\nconst store = createStore(combinedReducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store\n","import React from 'react'\nimport { Table, Header } from 'semantic-ui-react'\n\nconst CountryDataTable = ({ country, tradeData, flow }) => {\n  return (\n    <Table inverted basic compact celled selectable singleLine>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell colSpan='2' textAlign='center'>\n            <Header as='h3' style={{ color: '#fff' }}>\n              Finland {flow} {country[0].name}\n            </Header>\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {tradeData.slice(0, 10).map(a => (\n          <Table.Row key={a.group}>\n            <Table.Cell>{a.group}</Table.Cell>\n            <Table.Cell>{a.value} €</Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n    </Table>\n  )\n}\n\nexport default CountryDataTable\n","import React, { useState, useEffect } from 'react'\nimport dataService from '../../services/dataService'\nimport { Grid, Button, Icon, Dimmer, Loader } from 'semantic-ui-react'\nimport CountryDataTable from './CountryDataTable'\n\nconst CountryDataWrapper = ({ country, setCountry, setCountryFilter, year }) => {\n  const [countryImports, setCountryImports] = useState([])\n  const [countryExports, setCountryExports] = useState([])\n\n  useEffect(() => {\n    dataService.getSitc2CountryData('imports', year, country).then((res) => {\n      setCountryImports(res.data)\n    })\n    dataService.getSitc2CountryData('exports', year, country).then((res) => {\n      setCountryExports(res.data)\n    })\n  }, [country, year])\n\n  if (country.length === 0) {\n    return null\n  }\n\n  if (countryImports.length === 0 && countryExports.length === 0) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <Grid container stackable relaxed>\n      <Button\n        icon\n        circular\n        onClick={() => {\n          setCountryFilter('')\n          setCountry([])\n        }}\n        style={{ position: 'absolute', top: '1em', left: '1em' }}>\n        <Icon name='angle left' size='large' />\n      </Button>\n      <Grid.Row columns={2}>\n        <Grid.Column>\n          <CountryDataTable country={country} tradeData={countryImports} flow={'imported from'} />\n        </Grid.Column>\n        <Grid.Column>\n          <CountryDataTable country={country} tradeData={countryExports} flow={'exported to'} />\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  )\n}\n\nexport default CountryDataWrapper\n","import React, { useState } from 'react'\nimport { Search } from 'semantic-ui-react'\nimport _ from 'lodash'\n\nconst CountrySearch = ({ handleCountryFilterChange, countryCodes }) => {\n  const [value, setValue] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [results, setResults] = useState([])\n\n  if (countryCodes === undefined) {\n    return null\n  }\n\n  const countryNames = countryCodes.map((c) => ({\n    title: c.name,\n    key: c.code,\n  }))\n\n  const resultRenderer = ({ title }) => <div>{title}</div>\n\n  const handleResultSelect = (e, { result }) => {\n    setValue(result.title)\n    handleCountryFilterChange(result.title)\n  }\n\n  const handleSearchChange = (e, { value }) => {\n    setIsLoading(true)\n    setValue(value)\n\n    setIsLoading(true)\n    setValue(value)\n\n    if (value.length < 1) {\n      setValue('')\n      setIsLoading(false)\n      setResults([])\n      return\n    }\n\n    const re = new RegExp(_.escapeRegExp(value), 'i')\n    const isMatch = (result) => re.test(result.title)\n\n    setIsLoading(false)\n\n    const foundResults = _.filter(countryNames, isMatch)\n\n    if (foundResults.length > 20) {\n      setResults([{ title: 'Please narrow down your search.' }])\n    } else {\n      setResults(foundResults)\n    }\n    if (results.length === 1) {\n      handleCountryFilterChange(results[0].title)\n    }\n  }\n\n  return (\n    <Search\n      placeholder='Search...'\n      loading={isLoading}\n      onResultSelect={handleResultSelect}\n      onSearchChange={_.debounce(handleSearchChange, 500, {\n        leading: true,\n      })}\n      results={results}\n      resultRenderer={resultRenderer}\n      value={value}\n    />\n  )\n}\n\nexport default CountrySearch\n","import React from 'react'\nimport { Menu } from 'semantic-ui-react'\n\nconst Footer = ({ darkModeActive }) => {\n  return (\n    <Menu secondary className={darkModeActive ? 'footer inverted dark-mode' : 'footer'} >\n      <Menu.Item link as='a' href='https://github.com/joonaspartanen/finnish-foreign-trade'>\n        About\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { Button } from 'semantic-ui-react'\n\nconst FlowButtons = ({ flow, setFlow }) => {\n\n  const exportsActive = flow === 'exports'\n\n  return (\n    <div style={{ position: 'absolute', bottom: '2em', left: '2em', zIndex: '1' }}>\n      <Button.Group>\n        <Button\n          toggle\n          active={exportsActive}\n          content='Exports'\n          onClick={value => {\n            if (!exportsActive) {\n              setFlow('exports')\n            }\n          }}\n        />\n        <Button\n          toggle\n          active={!exportsActive}\n          content='Imports'\n          onClick={value => {\n            if (exportsActive) {\n              setFlow('imports')\n            }\n          }}\n        />\n      </Button.Group>\n    </div>\n  )\n}\n\nexport default FlowButtons\n","//import am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4geodata_worldLow from '@amcharts/amcharts4-geodata/worldLow'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport * as am4maps from '@amcharts/amcharts4/maps'\nimport am4themes_dark from '@amcharts/amcharts4/themes/dark'\nimport React, { useEffect, useRef } from 'react'\n\nconst Map = ({ imports, exports, flow }) => {\n  const chart = useRef(null)\n\n  am4core.useTheme(am4themes_dark)\n\n  useEffect(() => {\n    const map = am4core.create('mapdiv', am4maps.MapChart)\n\n    map.geodata = am4geodata_worldLow\n    map.projection = new am4maps.projections.Mercator()\n    map.zoomControl = new am4maps.ZoomControl()\n    map.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color('#EEE')\n    map.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 1\n    map.chartContainer.wheelable = false\n\n    //Use orthographic map projection\n    //map.projection = new am4maps.projections.Orthographic()\n    //map.panBehavior = 'rotateLongLat'\n    //const graticuleSeries = map.series.push(new am4maps.GraticuleSeries())\n    //graticuleSeries.mapLines.template.line.stroke = am4core.color('#67b7dc')\n    //graticuleSeries.mapLines.template.line.strokeOpacity = 0.2\n    //graticuleSeries.fitExtent = false\n\n    // The initial zoom level must be higher if using portrait view.\n    if (window.innerHeight > window.innerWidth) {\n      map.homeZoomLevel = 5\n      map.minZoomLevel = 5\n    } else {\n      map.homeZoomLevel = 2\n      map.minZoomLevel = 2\n    }\n\n    map.homeGeoPoint = {\n      latitude: 50,\n      longitude: 11,\n    }\n\n    map.maxPanOut = 0\n\n    const prepareDataSeries = flow => {\n      const baseColor = flow === 'exports' ? '#5E5B78' : '#C17D80'\n      const hoverColor = '#555'\n\n      const dataSeries = new am4maps.MapPolygonSeries()\n      dataSeries.name = flow.charAt(0).toUpperCase() + flow.slice(1)\n      dataSeries.id = flow\n      dataSeries.heatRules.push({\n        property: 'fill',\n        target: dataSeries.mapPolygons.template,\n        min: am4core.color(baseColor).brighten(1.2),\n        max: am4core.color(baseColor).brighten(-0.4),\n      })\n      dataSeries.useGeodata = true\n      dataSeries.exclude = ['AQ', 'SJ']\n      dataSeries.data = flow === 'exports' ? exports : imports\n\n      dataSeries.tooltip.getFillFromObject = false\n      dataSeries.tooltip.background.fill = am4core.color('#333')\n      dataSeries.tooltip.background.fillOpacity = 0.8\n\n      dataSeries.mapPolygons.template.tooltipHTML = `\n      <div>\n        Total ${\n          flow === 'exports' ? 'exports from Finland to {name}' : 'imports from {name} to Finland'\n        } ({year.formatNumber('#')}):\n        <br>\n        {euros} €\n      </div>\n      `\n      dataSeries.tooltip.label.interactionsEnabled = true\n\n      dataSeries.mapPolygons.template.nonScalingStroke = true\n      dataSeries.mapPolygons.template.strokeWidth = 0.5\n\n      const hoverState = dataSeries.mapPolygons.template.states.create('hover')\n      hoverState.properties.fill = am4core.color(hoverColor)\n\n      formatFinlandPolygon(dataSeries)\n\n      return dataSeries\n    }\n\n    const formatFinlandPolygon = dataSeries => {\n      map.events.on('ready', () => {\n        const finland = dataSeries.getPolygonById('FI')\n        finland.fill = am4core.color('#FFF')\n        finland.tooltipText = ''\n        finland.tooltipHTML = null\n        finland.hoverable = false\n      })\n    }\n\n    const exportsSeries = prepareDataSeries('exports')\n    const importsSeries = prepareDataSeries('imports')\n    importsSeries.hidden = true\n\n    map.series.push(exportsSeries)\n    map.series.push(importsSeries)\n\n    chart.current = map\n\n    return () => {\n      map.dispose()\n    }\n  }, [imports, exports])\n\n  useEffect(() => {\n    const exportsSeries = chart.current.series.getIndex(0)\n    const importsSeries = chart.current.series.getIndex(1)\n\n    if (flow === 'exports') {\n      exportsSeries.show()\n      importsSeries.hide()\n    } else {\n      importsSeries.show()\n      exportsSeries.hide()\n    }\n  }, [flow])\n\n  return <div id='mapdiv' style={{ width: '100%', height: '100%', overflow: 'hidden' }}></div>\n}\n\nexport default Map\n","import React, {useState} from 'react'\nimport {Dimmer, Loader} from 'semantic-ui-react'\nimport FlowButtons from '../FlowButtons/FlowButtons'\nimport Map from './Map'\n\nconst MapWrapper = ({ imports, exports, year }) => {\n    const [flow, setFlow] = useState('exports')\n  \n    if (imports === undefined || exports === undefined) {\n      return (\n        <Dimmer active>\n          <Loader />\n        </Dimmer>\n      )\n    }\n  \n    return (\n      <>\n        <FlowButtons flow={flow} setFlow={setFlow} />\n        <Map imports={imports} exports={exports} flow={flow} />\n      </>\n    )\n  }\n  \n  export default MapWrapper\n  ","import React from 'react'\nimport { Menu, Dropdown, Checkbox, Icon } from 'semantic-ui-react'\nimport { useDispatch } from 'react-redux'\nimport { changeColorMode } from '../../reducers/colorModeReducer'\n\nconst NavBar = ({ year, setYear, darkModeActive }) => {\n  const dispatch = useDispatch()\n\n  const years = [\n    { key: 2019, text: '2019', value: 2019 },\n    { key: 2018, text: '2018', value: 2018 },\n    { key: 2017, text: '2017', value: 2017 },\n    { key: 2016, text: '2016', value: 2016 },\n    { key: 2015, text: '2015', value: 2015 },\n    { key: 2014, text: '2014', value: 2014 },\n    { key: 2013, text: '2013', value: 2013 },\n    { key: 2012, text: '2012', value: 2012 },\n  ]\n\n  return (\n    <Menu as='nav' stackable size='large' className={darkModeActive ? 'navbar dark-mode' : 'navbar'}>\n      <Menu.Item header>Finnish Foreign Trade Visualized</Menu.Item>\n      <Menu.Item link as='a' href='#trade-map'>\n        Trade Map\n      </Menu.Item>\n      <Menu.Item link as='a' href='#trade-balance'>\n        Trade Balance\n      </Menu.Item>\n      <Menu.Item link as='a' href='#imports-by-product'>\n        By product group\n      </Menu.Item>\n      <Menu.Item link as='a' href='#trade-partners'>\n        By trade partner\n      </Menu.Item>\n      <Menu.Item>\n        <Dropdown\n          onChange={(event, { value }) => setYear(value)}\n          options={years}\n          placeholder='Year'\n          selection\n          value={year}\n        />\n      </Menu.Item>\n      <Menu.Item className=\"color-mode-toggle\">\n        <Icon name='moon'></Icon>\n        <Checkbox onChange={() => dispatch(changeColorMode())} toggle></Checkbox>\n        <Icon name='sun'></Icon>\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default NavBar\n","import * as am4charts from '@amcharts/amcharts4/charts'\nimport * as am4core from '@amcharts/amcharts4/core'\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated'\nimport am4themes_spiritedaway from '@amcharts/amcharts4/themes/spiritedaway'\nimport React, { useRef, useEffect } from 'react'\nimport { Header } from 'semantic-ui-react'\n\nconst ProductsTreeMap = ({ sitc2Data, flow, year }) => {\n  const chart = useRef(null)\n\n  am4core.useTheme(am4themes_animated)\n  am4core.useTheme(am4themes_spiritedaway)\n\n  useEffect(() => {\n    let treemap = am4core.create('products-treemap-div', am4charts.TreeMap)\n    treemap.responsive.enabled = true\n\n    treemap.data = sitc2Data['exports']\n    treemap.dataFields.value = 'value'\n    treemap.dataFields.name = 'group'\n    treemap.dataFields.children = 'children'\n\n    let level1 = treemap.seriesTemplates.create('1')\n    let level1_column = level1.columns.template\n\n    level1_column.tooltipText = '{group}: {value} €'\n    level1.tooltip.pointerOrientation = 'down'\n\n    treemap.legend = new am4charts.Legend()\n    treemap.legend.position = 'bottom'\n    treemap.legend.paddingTop = 20\n    treemap.legend.itemContainers.template.tooltipText = '{group}'\n    treemap.legend.labels.template.text = ''\n\n    const level0_hoverState = treemap.seriesTemplates\n      .create('0')\n      .columns.template.states.create('hover')\n    level0_hoverState.adapter.add('fill', fill =>\n      am4core.color(am4core.colors.brighten(fill.rgb, -0.2))\n    )\n\n    const level1_hoverState = level1_column.states.create('hover')\n    level1_hoverState.adapter.add('fill', fill =>\n      am4core.color(am4core.colors.brighten(fill.rgb, -0.2))\n    )\n\n    treemap.maxLevels = 1\n\n    treemap.responsive.rules.push({\n      relevant: am4core.ResponsiveBreakpoints.widthXL,\n      state: (target, stateId) => {\n        if (target instanceof am4charts.Legend) {\n          let state = target.states.create(stateId)\n          state.sprite.itemContainers.template.clickable = false\n          state.sprite.itemContainers.template.focusable = false\n          return state\n        }\n        return null\n      },\n    })\n\n    chart.current = treemap\n\n    return () => {\n      treemap.dispose()\n    }\n  }, [sitc2Data])\n\n  useEffect(() => {\n    chart.current.data = sitc2Data[flow]\n  }, [sitc2Data, flow])\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100vh',\n        paddingTop: '3em',\n        paddingRight: '10vw',\n        paddingLeft: '10vw',\n        textAlign: 'center',\n      }}>\n      <Header inverted as='h3'>\n        Finnish {flow} by product category ({year})\n      </Header>\n      <div id='products-treemap-div' style={{ width: '100%', height: '90%' }}></div>\n    </div>\n  )\n}\n\nexport default ProductsTreeMap\n","import React, { useState } from 'react'\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport FlowButtons from '../FlowButtons/FlowButtons'\nimport ProductsTreeMap from './ProductsTreeMap'\n\nconst TreeMapWrapper = ({ sitc2Data, year }) => {\n  const [flow, setFlow] = useState('exports')\n\n  if (sitc2Data === undefined) {\n    return (\n      <Dimmer active>\n        <Loader />\n      </Dimmer>\n    )\n  }\n\n  return (\n    <>\n      <FlowButtons flow={flow} setFlow={setFlow} />\n      <ProductsTreeMap sitc2Data={sitc2Data} flow={flow} year={year} />\n    </>\n  )\n}\n\nexport default TreeMapWrapper\n","import React, { useEffect, useRef } from 'react'\nimport { Header } from 'semantic-ui-react'\nimport * as d3 from 'd3'\n\nconst D3TradeBalanceChart = ({ tradeBalance: tradeData }) => {\n  const ref = useRef()\n\n  useEffect(() => {\n    if (!tradeData) {\n      return\n    }\n\n    const margin = { TOP: 80, RIGHT: 40, BOTTOM: 80, LEFT: 40 }\n    const padding = { TOP: 20, RIGHT: 10, BOTTOM: 20, LEFT: 10 }\n\n    const width = window.innerWidth - margin.RIGHT - margin.LEFT\n    const height = window.innerHeight - margin.TOP - margin.BOTTOM\n    const keys = ['imports', 'exports']\n\n    const keyDescriptions = {\n      imports: 'Total value of goods imported to Finland',\n      exports: 'Total value of goods exported from Finland',\n    }\n\n    const colors = d3.scaleOrdinal().range(['#58556d', '#743033'])\n\n    const maxValue = Math.max(\n      d3.max(tradeData.map(d => d.imports)),\n      d3.max(tradeData.map(d => d.exports))\n    )\n\n    const drawHorizontalChart = () => {\n      const x0 = d3\n        .scaleBand()\n        .domain(tradeData.map(d => d.year).sort((a, b) => a - b))\n        .rangeRound([margin.LEFT, width - margin.RIGHT])\n        .paddingInner(0.1)\n\n      const x1 = d3.scaleBand().domain(keys).rangeRound([0, x0.bandwidth()]).padding(0.05)\n\n      const y = d3\n        .scaleLinear()\n        .domain([0, maxValue])\n        .nice()\n        .rangeRound([height - margin.TOP, margin.TOP])\n\n      const xAxis = g =>\n        g\n          .attr('transform', `translate(0, ${height - margin.BOTTOM + padding.BOTTOM})`)\n          .call(d3.axisBottom(x0).tickSize(0))\n          .style('color', '#fff')\n          .call(g => g.select('.domain').remove())\n          .selectAll('text')\n\n      const yAxis = g =>\n        g\n          .attr('transform', `translate(${margin.LEFT}, 0)`)\n          .call(d3.axisLeft(y).ticks(null, 's').tickSizeInner(0))\n          .style('color', '#fff')\n          .call(g => g.select('.domain').remove())\n\n      svg.append('g').call(xAxis)\n      svg.append('g').call(yAxis)\n\n      svg\n        .append('g')\n        .attr('class', 'grid')\n        .call(\n          d3\n            .axisLeft(y)\n            .tickSize(-width + margin.RIGHT + padding.RIGHT + 20)\n            .tickFormat('')\n        )\n        .attr('transform', `translate(${margin.LEFT + padding.LEFT}, 0)`)\n\n      svg\n        .append('g')\n        .selectAll('g')\n        .data(tradeData)\n        .join('g')\n        .attr('transform', d => `translate(${x0(d.year) + padding.LEFT}, 0)`)\n        .selectAll('rect')\n        .data(d => keys.map(key => ({ key, value: d[key] })))\n        .join('rect')\n        .attr('class', 'bar')\n        .attr('x', d => x1(d.key))\n        .attr('width', x1.bandwidth())\n        .attr('y', d => y(0))\n        .transition()\n        .ease(d3.easePoly)\n        .duration(1500)\n        .attr('y', d => y(d.value))\n        .attr('height', d => y(0) - y(d.value))\n        .attr('fill', d => colors(d.key))\n    }\n\n    const chart = d3.select(ref.current)\n\n    const svg = chart\n      .append('svg')\n      .attr('width', width + padding.RIGHT + padding.LEFT)\n      .attr('height', height + padding.TOP + padding.BOTTOM)\n      .attr(\n        'viewBox',\n        `0 0 ${width + padding.RIGHT + padding.LEFT} ${height + padding.TOP + padding.BOTTOM}`\n      )\n\n    drawHorizontalChart()\n\n    svg\n      .selectAll('.bar')\n      .on('mouseover', function (d) {\n        d3.select(this).style('fill', d3.rgb(colors(d.key)).darker(1))\n      })\n      .on('mouseout', function (d) {\n        d3.select(this).style('fill', colors(d.key))\n      })\n      .on('mouseover', d => {\n        const tooltipHtml = `\n        <div>\n          Total ${d.key} from Finland:\n          <br>\n          ${d3.format(',')(d.value)}\n        €</div>\n        `\n        showTooltip(tooltip, tooltipHtml)\n      })\n      .on('mousemove', () => moveTooltip(tooltip))\n      .on('mouseout', () => {\n        tooltip.style('display', 'none')\n      })\n\n    const tooltip = d3.select('body').append('div').attr('class', 'd3-tooltip')\n\n    const showTooltip = (tooltip, tooltipHtml) => {\n      tooltip.style('display', 'block')\n      tooltip.html(tooltipHtml)\n    }\n\n    const moveTooltip = tooltip => {\n      tooltip.style('left', `${d3.event.pageX + 5}px`).style('top', `${d3.event.pageY - 65}px`)\n    }\n\n    const legendWrapper = chart\n      .append('svg')\n      .attr('width', 300)\n      .attr('height', 40)\n      .attr('class', 'legend-wrapper')\n\n    const legend = legendWrapper\n      .selectAll('.legend')\n      .data(keys)\n      .enter()\n      .append('g')\n      .attr('class', 'legend')\n      .attr('transform', (d, i) => `translate(${i * 140}, 0)`)\n\n    legend\n      .append('rect')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('width', 40)\n      .attr('height', 40)\n      .style('fill', d => colors(d))\n      .on('mouseover', d => {\n        const tooltipHtml = `<div>${keyDescriptions[d]}</div>`\n        showTooltip(tooltip, tooltipHtml)\n      })\n      .on('mousemove', () => moveTooltip(tooltip))\n      .on('mouseout', () => {\n        tooltip.style('display', 'none')\n      })\n\n    legend\n      .append('text')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('transform', d => 'translate(50, 25)')\n      .attr('class', 'd3-legend-text')\n      .style('fill', '#fff')\n      .text(d => d.toUpperCase())\n\n    return () => {\n      chart.selectAll('*').remove()\n    }\n  }, [tradeData])\n\n  useEffect(() => {\n    if (!tradeData) {\n      return\n    }\n    // TODO: Update data without redrawing whole chart\n    console.log('trade data updated')\n  }, [tradeData])\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100vh',\n        paddingTop: '3em',\n        textAlign: 'center',\n      }}>\n      <Header inverted as='h3'>\n        Finnish Trade Balance\n      </Header>\n      <div ref={ref}></div>\n    </div>\n  )\n}\n\nexport default D3TradeBalanceChart\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport ScrollableAnchor from 'react-scrollable-anchor'\nimport { Container, Loader } from 'semantic-ui-react'\nimport CountryDataWrapper from './components/CountryData/CountryDataWrapper'\nimport CountrySearch from './components/CountryData/CountrySearch'\nimport Footer from './components/Footer/Footer'\nimport MapWrapper from './components/Map/MapWrapper'\nimport NavBar from './components/NavBar/NavBar'\nimport TreeMapWrapper from './components/ProductsTreeMap/TreeMapWrapper'\nimport D3TradeBalanceChart from './components/TradeBalanceChart/D3TradeBalanceChart'\nimport { initializeTradeData } from './reducers/tradeDataReducer'\nimport { initializeCountryCodes } from './reducers/countryReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  const [year, setYear] = useState(2019)\n  const [country, setCountry] = useState([])\n  const [countryFilter, setCountryFilter] = useState('')\n\n  const handleCountryFilterChange = countryName => {\n    setCountryFilter(countryName)\n    const country = state.countryCodes.filter(c => c.name === countryName)\n    setCountry(country)\n  }\n\n  const state = useSelector(state => state)\n  const tradeData = state.tradeData\n\n  useEffect(() => {\n    dispatch(initializeTradeData(year))\n    dispatch(initializeCountryCodes())\n  }, [year, dispatch])\n\n  return (\n    <div className={state.darkModeActive ? 'main-container dark-mode' : 'main-container'}>\n      <Container fluid>\n        <NavBar year={year} setYear={setYear} darkModeActive={state.darkModeActive} />\n        {(tradeData.importsData === undefined || tradeData.exportsData === undefined) && (\n          <div style={{ height: '100vh' }}>\n            <Loader active />\n          </div>\n        )}\n        {tradeData.importsData !== undefined && tradeData.exportsData !== undefined && (\n          <div>\n            <ScrollableAnchor id={'trade-map'}>\n              <section\n                className={\n                  state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                <MapWrapper\n                  imports={tradeData.importsData}\n                  exports={tradeData.exportsData}></MapWrapper>\n                <a href='#trade-balance' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'trade-balance'}>\n              <section\n                className={\n                  state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                <D3TradeBalanceChart tradeBalance={tradeData.tradeBalance}></D3TradeBalanceChart>\n                <a href='#imports-by-product' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'imports-by-product'}>\n              <section\n                className={\n                  state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                <TreeMapWrapper sitc2Data={tradeData.sitc2Data} year={year} />\n                <a href='#trade-partners' className='anchor-link'>\n                  <div className='arrow-down'></div>\n                </a>\n              </section>\n            </ScrollableAnchor>\n            <ScrollableAnchor id={'trade-partners'}>\n              <section\n                className={\n                  state.darkModeActive ? 'chart-section dark-mode' : 'chart-section'\n                }>\n                {country.length === 0 && (\n                  <CountrySearch\n                    countryFilter={countryFilter}\n                    handleCountryFilterChange={handleCountryFilterChange}\n                    countryCodes={state.countryCodes}\n                  />\n                )}\n                {country.length !== 0 && (\n                  <CountryDataWrapper\n                    country={country}\n                    setCountry={setCountry}\n                    setCountryFilter={setCountryFilter}\n                    year={year}\n                  />\n                )}\n              </section>\n            </ScrollableAnchor>\n          </div>\n        )}\n        <Footer darkModeActive={state.darkModeActive} />\n      </Container>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport App from './App'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}